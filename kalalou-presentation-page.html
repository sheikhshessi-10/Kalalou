<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kalalou Presentation</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-primary: #F7F4EF;
            --ink: #1C1C1C;
            --secondary: #6F6F6F;
            --accent: #B46A4C;
            --divider: #DDD8D0;
            --card: #FFFFFF;
            --danger: #c44;
            --success: #2d7a5e;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-primary);
            color: var(--ink);
            line-height: 1.8;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
        }

        /* Navigation */
        .nav {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(247, 244, 239, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--divider);
            z-index: 1000;
            padding: 24px 0;
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 60px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo-link {
            display: flex;
            align-items: center;
            text-decoration: none;
            transition: opacity 0.3s ease;
        }

        .logo-link:hover {
            opacity: 0.7;
        }

        .logo-svg {
            width: 40px;
            height: 40px;
        }

        .theme-toggle {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(28, 28, 28, 0.1);
            border: 1px solid rgba(28, 28, 28, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 20px;
            color: var(--ink);
        }

        .theme-toggle:hover {
            background: rgba(28, 28, 28, 0.15);
            border-color: rgba(28, 28, 28, 0.3);
        }

        /* Hero Section */
        .hero {
            position: relative;
            width: 100%;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 180px 60px 120px;
            text-align: center;
            overflow: hidden;
        }

        .hero-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            display: block;
            background: var(--bg-primary);
        }

        /* TAM Section (hero-like) */
        .tam-hero {
            position: relative;
            width: 100%;
            padding: 120px 60px;
            text-align: center;
            overflow: hidden;
        }

        .tam-canvas-wrapper {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
            background: var(--bg-primary);
            z-index: 1;
        }

        .tam-canvas {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
            display: block;
        }

        .tam-carousel {
            position: relative;
            z-index: 10;
            max-width: 1200px;
            margin: 0 auto;
        }

        .tam-slides {
            display: flex;
            transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            width: 100%;
            will-change: transform;
        }

        .tam-slide {
            flex: 0 0 100%;
            width: 100%;
            padding-bottom: 90px;
        }

        .tam-title {
            font-family: 'Playfair Display', serif;
            font-size: clamp(3.1rem, 5.8vw, 4.9rem);
            font-weight: 400;
            letter-spacing: -0.02em;
            margin-bottom: 26px;
            line-height: 1.08;
            color: var(--ink);
        }

        .tam-title.tam-title-sub {
            font-size: clamp(2.3rem, 4.2vw, 3.3rem);
            margin-top: 18px;
            margin-bottom: 0;
            opacity: 0.97;
        }

        /* (Removed emoji overlay per request) */

        .tam-subtext {
            font-size: 1.1rem;
            color: var(--secondary);
            font-weight: 400;
            margin: 0 auto 56px;
            max-width: 720px;
            letter-spacing: 0.01em;
            line-height: 1.9;
        }

        .tam-stats {
            display: grid;
            grid-template-columns: repeat(2, minmax(0, 1fr));
            gap: 32px;
            max-width: 960px;
            margin: 0 auto 28px;
            text-align: left;
        }

        .tam-stats-block-title {
            font-size: 1rem;
            text-transform: uppercase;
            letter-spacing: 0.15em;
            color: var(--secondary);
            margin-bottom: 16px;
        }

        .tam-bullet {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            margin-bottom: 10px;
            font-size: 1.08rem;
            color: var(--ink);
        }

        .tam-bullet.tam-bullet-strong {
            font-size: 1.25rem;
        }

        .tam-bullet.tam-bullet-strong strong {
            font-weight: 700;
        }

        .tam-bullet-icon {
            width: 8px;
            height: 8px;
            border-radius: 999px;
            background: var(--accent);
            margin-top: 8px;
            flex-shrink: 0;
        }

        .tam-footnote {
            font-size: 0.85rem;
            color: var(--secondary);
            opacity: 0.9;
        }

        .tam-dots {
            position: absolute;
            bottom: 140px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 12px;
        }

        .tam-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--divider);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .tam-dot.active {
            background: var(--accent);
            width: 24px;
            border-radius: 4px;
        }

        .tam-nav {
            position: absolute;
            bottom: 60px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 16px;
            z-index: 10;
        }

        @media (max-width: 1024px) {
            .tam-stats { grid-template-columns: 1fr; }
        }

        @media (max-width: 768px) {
            .tam-hero { padding: 90px 30px; }
        }

        .hero-carousel {
            position: relative;
            width: 100%;
            max-width: 1200px;
            z-index: 10;
        }

        .hero-slides {
            display: flex;
            transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .hero-slide {
            min-width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding-bottom: 100px;
        }

        .hero h1 {
            font-family: 'Playfair Display', serif;
            font-size: clamp(3.5rem, 7vw, 6rem);
            font-weight: 400;
            letter-spacing: -0.02em;
            margin-bottom: 32px;
            line-height: 1.1;
            color: var(--ink);
        }

        .hero-subtext {
            font-size: 1.1rem;
            color: var(--secondary);
            font-weight: 400;
            margin-bottom: 60px;
            max-width: 500px;
            letter-spacing: 0.01em;
        }

        .hero-divider {
            width: 60px;
            height: 1px;
            background: var(--divider);
            margin: 0 auto;
        }

        /* Carousel Navigation */
        .carousel-nav {
            position: absolute;
            bottom: 60px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 16px;
            z-index: 10;
        }

        .carousel-button {
            width: 48px;
            height: 48px;
            background: var(--card);
            border: 1px solid var(--divider);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 20px;
            color: var(--ink);
        }

        .carousel-button:hover {
            background: var(--ink);
            color: var(--card);
            transform: scale(1.05);
        }

        .carousel-dots {
            position: absolute;
            bottom: 140px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 12px;
        }

        .carousel-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--divider);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .carousel-dot.active {
            background: var(--accent);
            width: 24px;
            border-radius: 4px;
        }

        /* Artwork Slide */
        .artwork-slide {
            padding: 40px;
        }

        .artwork-image {
            max-width: 900px;
            width: 100%;
            height: auto;
            border-radius: 8px;
            box-shadow: 0 4px 24px rgba(0, 0, 0, 0.08);
        }

        /* Section Container */
        .section {
            max-width: 1200px;
            margin: 0 auto;
            padding: 120px 60px;
        }

        /* Section Carousel */
        .section-carousel {
            position: relative;
            width: 100%;
            overflow: hidden;
        }

        .section-slides {
            display: flex;
            transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            width: 100%;
            will-change: transform;
        }

        .section-slide {
            flex: 0 0 100%;
            width: 100%;
        }

        .section-carousel-nav {
            display: flex;
            gap: 16px;
            justify-content: center;
            margin-top: 60px;
        }

        .section-carousel-button {
            width: 48px;
            height: 48px;
            background: var(--card);
            border: 1px solid var(--divider);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 20px;
            color: var(--ink);
        }

        .section-carousel-button:hover {
            background: var(--ink);
            color: var(--card);
            transform: scale(1.05);
        }

        .section-carousel-dots {
            display: flex;
            gap: 12px;
            justify-content: center;
            margin-top: 40px;
        }

        .section-carousel-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--divider);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .section-carousel-dot.active {
            background: var(--accent);
            width: 24px;
            border-radius: 4px;
        }

        .section-divider {
            height: 1px;
            background: var(--divider);
            max-width: 1200px;
            margin: 0 auto;
        }

        /* Two Column Layouts */
        .two-col {
            display: grid;
            grid-template-columns: 400px 1fr;
            gap: 100px;
            align-items: center;
        }

        .two-col.reverse {
            grid-template-columns: 1fr 400px;
        }

        /* iPhone Mockup - Minimal */
        .iphone-mockup {
            width: 340px;
            height: 680px;
            background: #1a1a1a;
            border-radius: 50px;
            padding: 12px;
            box-shadow: 
                0 0 0 1px rgba(0, 0, 0, 0.04),
                0 20px 60px rgba(0, 0, 0, 0.12);
            position: relative;
        }

        .iphone-notch {
            position: absolute;
            top: 12px;
            left: 50%;
            transform: translateX(-50%);
            width: 150px;
            height: 30px;
            background: #000;
            border-radius: 0 0 20px 20px;
            z-index: 10;
        }

        .iphone-screen {
            width: 100%;
            height: 100%;
            background: #000;
            border-radius: 42px;
            overflow: hidden;
            position: relative;
            display: flex;
            flex-direction: column;
        }

        /* Status Bar */
        .status-bar {
            height: 44px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 30px 0 180px;
            font-size: 14px;
            font-weight: 500;
            color: #fff;
        }

        .time {
            position: absolute;
            left: 30px;
            top: 14px;
        }

        .status-icons {
            display: flex;
            gap: 6px;
            align-items: center;
        }

        /* Call Screen - Minimal */
        .call-screen {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            padding: 60px 30px 30px;
            background: #000;
        }

        .call-header {
            text-align: center;
            padding-top: 60px;
        }

        .caller-name {
            font-size: 40px;
            font-weight: 300;
            color: #fff;
            margin-bottom: 12px;
            letter-spacing: -0.5px;
        }

        .call-subtitle {
            font-size: 16px;
            color: #8e8e93;
            font-weight: 400;
            margin-top: 8px;
        }

        .call-duration {
            font-size: 16px;
            color: #8e8e93;
            font-weight: 400;
            margin-top: 24px;
        }

        /* iOS Buttons */
        .call-actions {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px 16px;
            margin-bottom: 40px;
            padding: 0 10px;
        }

        .call-action-btn {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            background: transparent;
            border: none;
            cursor: pointer;
            padding: 0;
        }

        .action-icon {
            width: 68px;
            height: 68px;
            background: #2c2c2e;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
        }

        .action-label {
            font-size: 13px;
            color: #fff;
            font-weight: 400;
        }

        .end-call-container {
            display: flex;
            justify-content: center;
            padding-bottom: 20px;
        }

        .end-call-btn {
            width: 68px;
            height: 68px;
            background: #ff3b30;
            border-radius: 50%;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
        }

        /* Content Sections */
        .content-block h2 {
            font-family: 'Playfair Display', serif;
            font-size: clamp(2rem, 4vw, 2.8rem);
            font-weight: 400;
            margin-bottom: 32px;
            line-height: 1.3;
            color: var(--ink);
            letter-spacing: -0.01em;
        }

        .content-block p {
            font-size: 1.15rem;
            color: var(--secondary);
            line-height: 1.9;
            margin-bottom: 48px;
        }

        /* "Our AI" Mindmap (Section 1 - Slide 2) */
        .ai-mindmap {
            width: 100%;
            max-width: 920px;
            margin: 24px auto 0;
        }

        .ai-mindmap svg {
            width: 100%;
            height: auto;
            display: block;
        }

        .ai-mindmap .label {
            fill: var(--ink);
            font-size: 18px;
            font-weight: 500;
        }

        .ai-mindmap .sub {
            fill: var(--secondary);
            font-size: 15px;
            font-weight: 400;
        }

        /* Section 1 - Slide 3 ("Win Big Time") */
        .big-win {
            max-width: 900px;
            margin: 0 auto;
        }

        .big-win .big-win-title {
            font-family: 'Playfair Display', serif;
            font-size: clamp(2.4rem, 4.2vw, 3.4rem);
            font-weight: 500;
            letter-spacing: -0.01em;
            color: var(--ink);
            margin-bottom: 18px;
        }

        .big-win .big-win-title .emoji {
            font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Noto Color Emoji', sans-serif;
            margin-left: 10px;
        }

        .big-win .big-win-sub {
            font-size: 1.15rem;
            color: var(--secondary);
            line-height: 1.9;
            margin: 0 auto 44px;
            max-width: 780px;
        }

        .big-win .win-list {
            display: grid;
            gap: 18px;
            text-align: left;
            margin: 0 auto;
            max-width: 820px;
        }

        .big-win .win-item {
            display: grid;
            grid-template-columns: 14px 1fr;
            gap: 16px;
            align-items: start;
            background: rgba(255, 255, 255, 0.55);
            border: 1px solid var(--divider);
            border-radius: 10px;
            padding: 18px 18px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.04);
        }

        .big-win .win-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--accent);
            margin-top: 8px;
        }

        .big-win .win-item strong {
            color: var(--ink);
            font-weight: 600;
        }

        .soft-stats {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .stat-item {
            display: flex;
            align-items: center;
            gap: 16px;
            color: var(--ink);
            font-size: 1rem;
            font-weight: 500;
        }

        .stat-bullet {
            width: 6px;
            height: 6px;
            background: var(--accent);
            border-radius: 50%;
        }

        /* Centered Sections */
        .centered-section {
            text-align: center;
            max-width: 800px;
            margin: 0 auto;
        }

        .centered-section h2 {
            font-family: 'Playfair Display', serif;
            font-size: clamp(2.5rem, 5vw, 3.5rem);
            font-weight: 400;
            margin-bottom: 40px;
            line-height: 1.2;
            color: var(--ink);
        }

        .centered-section p {
            font-size: 1.2rem;
            color: var(--secondary);
            line-height: 1.9;
            margin-bottom: 60px;
        }

        /* Pipeline Diagram */
        .pipeline-diagram {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 24px;
            margin: 80px 0;
            flex-wrap: wrap;
        }

        .pipeline-step {
            background: var(--card);
            padding: 32px 40px;
            border-radius: 8px;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.04);
            font-size: 1.1rem;
            color: var(--ink);
            font-weight: 500;
            min-width: 140px;
            text-align: center;
        }

        .pipeline-arrow {
            color: var(--divider);
            font-size: 1.5rem;
            font-weight: 300;
        }

        /* Flywheel */
        .flywheel {
            margin: 80px 0;
            text-align: center;
        }

        .flywheel-circle {
            width: 400px;
            height: 400px;
            margin: 0 auto 60px;
            position: relative;
            border: 2px solid var(--divider);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .flywheel-steps {
            position: absolute;
            width: 100%;
            height: 100%;
        }

        .flywheel-step {
            position: absolute;
            background: var(--card);
            padding: 16px 24px;
            border-radius: 8px;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06);
            font-size: 1rem;
            color: var(--ink);
            font-weight: 500;
            white-space: nowrap;
        }

        .flywheel-step:nth-child(1) { top: -10px; left: 50%; transform: translateX(-50%); }
        .flywheel-step:nth-child(2) { top: 25%; right: -20px; }
        .flywheel-step:nth-child(3) { bottom: 25%; right: -20px; }
        .flywheel-step:nth-child(4) { bottom: -10px; left: 50%; transform: translateX(-50%); }
        .flywheel-step:nth-child(5) { bottom: 25%; left: -20px; }
        .flywheel-step:nth-child(6) { top: 25%; left: -20px; }

        .flywheel-center {
            font-family: 'Playfair Display', serif;
            font-size: 1.5rem;
            color: var(--accent);
            font-weight: 500;
        }

        .flywheel-text {
            font-size: 1.2rem;
            color: var(--secondary);
            line-height: 1.9;
        }

        /* Final CTA */
        .final-section {
            text-align: center;
            padding: 140px 60px;
        }

        .final-section h2 {
            font-family: 'Playfair Display', serif;
            font-size: clamp(2.5rem, 5vw, 3.5rem);
            font-weight: 400;
            margin-bottom: 60px;
            line-height: 1.3;
            color: var(--ink);
        }

        .cta-button {
            display: inline-block;
            padding: 18px 48px;
            background: var(--ink);
            color: var(--bg-primary);
            text-decoration: none;
            font-size: 1rem;
            font-weight: 500;
            border-radius: 6px;
            transition: all 0.3s ease;
            letter-spacing: 0.02em;
        }

        .cta-button:hover {
            background: var(--accent);
            color: var(--card);
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(180, 106, 76, 0.2);
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .two-col,
            .two-col.reverse {
                grid-template-columns: 1fr;
                gap: 60px;
                justify-items: center;
            }

            .iphone-mockup {
                margin: 0 auto;
            }

            .section {
                padding: 80px 40px;
            }

            .hero {
                padding: 140px 40px 100px;
            }

            .flywheel-circle {
                width: 300px;
                height: 300px;
            }

            .flywheel-step {
                font-size: 0.9rem;
                padding: 12px 20px;
            }
        }

        @media (max-width: 768px) {
            .nav-container {
                padding: 0 30px;
            }

            .section {
                padding: 60px 30px;
            }

            .hero {
                padding: 120px 30px 80px;
            }

            .iphone-mockup {
                width: 300px;
                height: 600px;
                border-radius: 44px;
            }

            .iphone-screen {
                border-radius: 36px;
            }

            .pipeline-diagram {
                flex-direction: column;
                gap: 16px;
            }

            .pipeline-arrow {
                transform: rotate(90deg);
            }

            .final-section {
                padding: 100px 30px;
            }
        }

        /* Subtle entrance animations */
        .fade-in {
            opacity: 0;
            animation: fadeIn 0.8s ease forwards;
        }

        @keyframes fadeIn {
            to {
                opacity: 1;
            }
        }

        .section {
            opacity: 0;
            animation: fadeIn 0.6s ease 0.2s forwards;
        }

        /* ========== Brian presentation sections (brand colors) ========== */
        .presentation-section {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 120px 40px 80px;
            max-width: 1200px;
            margin: 0 auto;
        }
        .presentation-section h2 {
            font-family: 'Playfair Display', serif;
            font-size: clamp(2rem, 4vw, 3.5rem);
            font-weight: 400;
            color: var(--ink);
            margin-bottom: 16px;
            text-align: center;
        }
        .presentation-section .subtitle {
            font-size: clamp(1rem, 2vw, 1.35rem);
            color: var(--secondary);
            margin-bottom: 48px;
            text-align: center;
        }
        /* Section 1: The Ambition */
        .ambition-current, .ambition-goal {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 48px;
            flex-wrap: wrap;
            margin: 24px 0;
        }
        .ambition-icons {
            display: flex;
            gap: 12px;
            align-items: flex-end;
        }
        .ambition-icons .icon-person {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--divider);
            flex-shrink: 0;
        }
        .ambition-icons .icon-brian {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--accent);
            box-shadow: 0 0 20px rgba(180, 106, 76, 0.5);
            flex-shrink: 0;
        }
        .ambition-stats {
            text-align: left;
            font-size: 1.25rem;
            color: var(--ink);
        }
        .ambition-stats .big { font-weight: 600; font-size: 1.5rem; }
        .ambition-bracket {
            width: 100%;
            height: 2px;
            background: var(--divider);
            margin-top: 8px;
            max-width: 320px;
            margin-left: auto;
            margin-right: auto;
        }
        .ambition-arrow {
            margin: 32px 0;
            animation: pulse 2s ease-in-out infinite;
        }
        @keyframes pulse { 0%, 100% { opacity: 1; transform: translateY(0); } 50% { opacity: 0.6; transform: translateY(8px); } }
        .ambition-badge {
            display: inline-block;
            background: var(--success);
            color: #fff;
            padding: 8px 16px;
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: 600;
            margin-top: 8px;
        }
        .challenge-card {
            background: var(--card);
            padding: 32px 40px;
            border-radius: 12px;
            box-shadow: 0 4px 24px rgba(0,0,0,0.08);
            max-width: 420px;
            margin: 32px auto;
            text-align: left;
        }
        .challenge-card h3 { font-size: 1.35rem; color: var(--danger); margin-bottom: 20px; }
        .challenge-card ul { list-style: none; }
        .challenge-card li { margin-bottom: 12px; display: flex; align-items: center; gap: 10px; color: var(--ink); }
        .challenge-card li::before { content: "‚úï"; color: var(--danger); font-weight: bold; }
        .challenge-card .note { font-style: italic; color: var(--secondary); font-size: 0.95rem; margin-top: 16px; }
        .transition-text { text-align: center; margin-top: 48px; font-style: italic; font-size: clamp(1.25rem, 2.5vw, 1.75rem); color: var(--ink); }
        .transition-text .second { display: block; margin-top: 12px; opacity: 0.9; }
        /* Section 2: Meet Brian (dark) */
        .meet-brian-section {
            background: #1C1C1C;
            color: #fff;
            min-height: 100vh;
            padding: 120px 40px 80px;
        }
        .meet-brian-section h2 { color: #fff; }
        .meet-brian-section .subtitle { color: rgba(255,255,255,0.75); }
        .brian-avatar-wrap {
            width: 180px;
            height: 180px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--accent), #8B4512);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 32px auto;
            box-shadow: 0 0 40px rgba(180, 106, 76, 0.4);
            font-size: 4rem;
        }
        .brian-bubbles {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            max-width: 800px;
            margin: 40px auto;
        }
        .brian-bubble {
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            padding: 16px 24px;
            border-radius: 12px;
            font-size: 0.95rem;
            text-align: center;
            min-width: 140px;
        }
        .comparison-bar {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            gap: 0;
            max-width: 700px;
            margin: 48px auto 0;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0,0,0,0.2);
        }
        .comparison-left { background: rgba(200,80,80,0.25); padding: 24px; text-align: center; }
        .comparison-right { background: rgba(45,122,94,0.35); padding: 24px; text-align: center; }
        .comparison-center { background: var(--accent); color: #fff; padding: 16px 24px; display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 1.1rem; }
        /* Section 3: Three Powers */
        .power-cards {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 32px;
            max-width: 1100px;
            margin: 40px auto;
        }
        @media (max-width: 900px) { .power-cards { grid-template-columns: 1fr; } }
        .power-card {
            background: var(--card);
            border-radius: 12px;
            padding: 32px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.06);
            text-align: center;
            border-top: 8px solid var(--accent);
        }
        .power-card--orange { border-top-color: #d4845c; }
        .power-card--blue { border-top-color: #6b8fa3; }
        .power-card--green { border-top-color: var(--success); }
        .power-card .badge { font-size: 0.75rem; font-weight: 600; text-transform: uppercase; margin-bottom: 12px; }
        .power-card h3 { font-size: 1.35rem; margin-bottom: 8px; color: var(--ink); }
        .power-card .volume { font-size: 1rem; color: var(--accent); font-weight: 600; margin-bottom: 12px; }
        .power-card p { font-size: 0.95rem; color: var(--secondary); line-height: 1.6; }
        .powers-total { margin-top: 48px; font-size: clamp(1.75rem, 3vw, 2.5rem); font-weight: 700; color: var(--ink); }
        .powers-total span { color: var(--accent); }
        /* Flow sections */
        .flow-section { min-height: 100vh; padding: 100px 40px 80px; }
        .flow-section--orange { background: #FFF9F5; }
        .flow-section--blue { background: #F5F9FC; }
        .flow-section--green { background: #F5FAF7; }
        .flow-diagram { max-width: 640px; margin: 40px auto; text-align: left; }
        .flow-box {
            background: var(--card);
            border-left: 4px solid var(--accent);
            padding: 20px 24px;
            border-radius: 8px;
            margin-bottom: 16px;
            box-shadow: 0 2px 12px rgba(0,0,0,0.05);
        }
        .flow-box .step-badge { font-size: 0.75rem; font-weight: 600; color: var(--accent); margin-bottom: 8px; }
        .flow-arrow { text-align: center; margin: 12px 0; color: var(--divider); font-size: 1.5rem; }
        .flow-result { background: var(--card); padding: 24px; border-radius: 12px; margin-top: 32px; max-width: 500px; margin-left: auto; margin-right: auto; box-shadow: 0 4px 20px rgba(0,0,0,0.06); }
        .flow-result h4 { font-size: 1rem; margin-bottom: 12px; color: var(--ink); }
        /* Transformation */
        .transformation-section { padding: 100px 40px; }
        .transformation-split {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0;
            max-width: 900px;
            margin: 40px auto;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }
        @media (max-width: 700px) { .transformation-split { grid-template-columns: 1fr; } }
        .transformation-panel { padding: 40px 32px; }
        .transformation-panel--without { background: #FDF2F2; }
        .transformation-panel--with { background: #F0FDF4; }
        .transformation-panel h3 { font-size: 1.25rem; margin-bottom: 24px; }
        .transformation-panel--without h3 { color: var(--danger); }
        .transformation-panel--with h3 { color: var(--success); }
        .transformation-panel .stat { font-size: 1.1rem; margin-bottom: 12px; }
        .transformation-cta { margin-top: 48px; text-align: center; }
        .transformation-cta .big-badge { display: inline-block; background: var(--success); color: #fff; padding: 16px 32px; border-radius: 12px; font-size: 1.35rem; font-weight: 700; }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="nav">
        <div class="nav-container">
            <a href="index.html" class="logo-link">
                <svg class="logo-svg" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <linearGradient id="logoGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                            <stop offset="0%" style="stop-color:#888888;stop-opacity:1" />
                            <stop offset="50%" style="stop-color:#666666;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#444444;stop-opacity:1" />
                        </linearGradient>
                    </defs>
                    <path d="M 30 50 
                             C 30 30, 50 30, 50 50 
                             C 50 70, 70 70, 70 50 
                             C 70 30, 50 30, 50 50 
                             C 50 30, 30 30, 30 50" 
                          fill="url(#logoGradient)" 
                          stroke="none"/>
                </svg>
            </a>
            <button class="theme-toggle" id="themeToggle" aria-label="Toggle theme">
                <span id="themeIcon">üåô</span>
            </button>
        </div>
    </nav>

    <!-- Hero -->
    <section class="hero fade-in">
        <canvas class="hero-canvas" id="heroCanvas"></canvas>
        <div class="hero-carousel">
            <div class="hero-slides" id="heroSlides">
                <!-- Slide 1: Main Title -->
                <div class="hero-slide">
                    <h1>KALALOU AI LEVERAGE</h1>
                    <p class="hero-subtext">A quiet system working behind the scenes.</p>
                    <div class="hero-divider"></div>
                </div>

                <!-- Slide 2: Custom Message -->
                <div class="hero-slide">
                    <h1 style="font-size: clamp(2.5rem, 5vw, 4rem);">The Future of Wholesale</h1>
                    <p class="hero-subtext">Where craftsmanship meets intelligent automation.</p>
                    <div class="hero-divider"></div>
                </div>

                <!-- Slide 3: Artwork -->
                <div class="hero-slide artwork-slide">
                    <img src="kalalou-artwork.png" 
                         alt="Kalalou Vision - Balancing craftsmanship with modern efficiency" 
                         class="artwork-image"
                         id="artworkImage">
                </div>
            </div>

            <!-- Navigation Dots -->
            <div class="carousel-dots">
                <div class="carousel-dot active" data-slide="0"></div>
                <div class="carousel-dot" data-slide="1"></div>
                <div class="carousel-dot" data-slide="2"></div>
            </div>

            <!-- Navigation Buttons -->
            <div class="carousel-nav">
                <button class="carousel-button" id="prevButton">‚Üê</button>
                <button class="carousel-button" id="nextButton">‚Üí</button>
            </div>
        </div>
    </section>

    <!-- Section 1: The Ambition -->
    <section class="presentation-section">
        <h2>YOUR AMBITION</h2>
        <p class="subtitle">Scale outbound calling from 1,000 to 12,000 calls/month</p>

        <div class="ambition-current">
            <div>
                <div class="ambition-icons">
                    <span class="icon-person"></span><span class="icon-person"></span><span class="icon-person"></span><span class="icon-person"></span><span class="icon-person"></span><span class="icon-person"></span><span class="icon-person"></span>
                </div>
                <div class="ambition-bracket"></div>
            </div>
            <div class="ambition-stats">
                <div class="big">500‚Äì1,000 calls/month</div>
                <div>7 team members</div>
            </div>
        </div>

        <div class="ambition-arrow">‚Üì</div>

        <div class="ambition-goal">
            <div>
                <div class="ambition-icons">
                    <span class="icon-person"></span><span class="icon-person"></span><span class="icon-person"></span><span class="icon-person"></span><span class="icon-person"></span><span class="icon-person"></span><span class="icon-person"></span><span class="icon-brian"></span>
                </div>
                <div class="ambition-bracket"></div>
            </div>
            <div class="ambition-stats">
                <div class="big">12,000 calls/month</div>
                <span class="ambition-badge">12‚Äì24√ó CURRENT OUTPUT</span>
            </div>
        </div>

        <div class="challenge-card">
            <h3>The Old Way</h3>
            <ul>
                <li>Hire 40+ people ($1.8M/year)</li>
                <li>4‚Äì6 month recruiting cycle</li>
                <li>Training, onboarding, management</li>
                <li>Every time you scale ‚Üí hire again</li>
            </ul>
            <p class="note">This is a real constraint.</p>
        </div>

        <p class="transition-text">This is the leverage age.<span class="second">There's a better way‚Ä¶</span></p>
    </section>

    <div class="section-divider"></div>

    <!-- Section 2: Meet Brian -->
    <section class="meet-brian-section">
        <div class="presentation-section" style="background: transparent; color: inherit;">
            <h2>MEET BRIAN</h2>
            <p class="subtitle">Your Superhuman Team Member</p>
            <div class="brian-avatar-wrap">ü§ñ</div>
            <div class="brian-bubbles">
                <div class="brian-bubble">üåô Never Sleeps ‚Äì 24/7 Operation</div>
                <div class="brian-bubble">‚ö° 10 Simultaneous Calls</div>
                <div class="brian-bubble">üß† Perfect Memory ‚Äì Never Forgets</div>
                <div class="brian-bubble">üìÖ Auto-Books Meetings</div>
                <div class="brian-bubble">üìà Scales Infinitely</div>
            </div>
            <div class="comparison-bar">
                <div class="comparison-left">
                    <strong>Current Team</strong><br>1,000 calls/month
                </div>
                <div class="comparison-center">4√ó MORE OUTPUT</div>
                <div class="comparison-right">
                    <strong>Team + Brian</strong><br>4,000 calls/month
                </div>
            </div>
        </div>
    </section>

    <div class="section-divider"></div>

    <!-- Section 3: Three Superpowers -->
    <section class="presentation-section">
        <h2>BRIAN'S THREE SUPERPOWERS</h2>
        <div class="power-cards">
            <div class="power-card power-card--orange">
                <div class="badge">Power #1</div>
                <h3>Trade Show Follow-Up</h3>
                <div class="volume">500 calls/month</div>
                <p>48-hour follow-up on every trade show lead. References products they showed interest in.</p>
            </div>
            <div class="power-card power-card--blue">
                <div class="badge">Power #2</div>
                <h3>Dormant Reactivation</h3>
                <div class="volume">1,500 calls/month</div>
                <p>Reactivate customers who haven't ordered in 6+ months. Empathetic check-in, not sales pitch.</p>
            </div>
            <div class="power-card power-card--green">
                <div class="badge">Power #3</div>
                <h3>New Customer Acquisition</h3>
                <div class="volume">2,000 calls/month</div>
                <p>Reach independent retailers nationwide.</p>
            </div>
        </div>
        <p class="powers-total"><span>4,000</span> TOTAL CALLS PER MONTH <span style="font-size: 0.85rem; font-weight: 400; color: var(--secondary);">(with ability to scale infinitely)</span></p>
    </section>

    <div class="section-divider"></div>

    <!-- Section 4: Trade Show Flow -->
    <section class="flow-section flow-section--orange">
        <div class="presentation-section" style="min-height: auto;">
            <h2>POWER #1: TRADE SHOW FOLLOW-UP</h2>
            <p class="subtitle">Strike while the iron is hot</p>
            <div class="flow-diagram">
                <div class="flow-box"><div class="step-badge">STEP 1</div><strong>Collect booth visitor info at trade show</strong><br><span style="color: var(--secondary); font-size: 0.9rem;">Name, store, products interested in</span></div>
                <div class="flow-arrow">‚Üì</div>
                <div class="flow-box"><div class="step-badge">STEP 2</div><strong>Upload to system via CSV or email</strong></div>
                <div class="flow-arrow">‚Üì</div>
                <div class="flow-box"><div class="step-badge">STEP 3</div><strong>Brian calls within 48 hours</strong><br><em style="font-size: 0.9rem;">"Hi Sarah, this is Emily from Kalalou. We met at the Atlanta Gift Show‚Ä¶"</em></div>
                <div class="flow-arrow">‚Üì</div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                    <div class="flow-box" style="background: #F0FDF4; border-left-color: var(--success);">If Interested ‚Üí Books meeting with sales rep</div>
                    <div class="flow-box" style="background: var(--bg-primary);">Not Interested ‚Üí Send catalog for future reference</div>
                </div>
                <div class="flow-result">
                    <h4>Expected Results</h4>
                    <p>500 leads called ¬∑ 50‚Äì100 meetings booked (10‚Äì20%) ¬∑ $300K‚Äì$1.5M revenue</p>
                </div>
            </div>
        </div>
    </section>

    <div class="section-divider"></div>

    <!-- Section 5: Dormant Flow -->
    <section class="flow-section flow-section--blue">
        <div class="presentation-section" style="min-height: auto;">
            <h2>POWER #2: DORMANT CUSTOMER REACTIVATION</h2>
            <p class="subtitle">Unlock revenue from dormant accounts</p>
            <div class="flow-diagram">
                <div class="flow-box"><div class="step-badge">STEP 1</div><strong>Brian pulls dormant customers from NetSuite</strong><br><span style="color: var(--secondary); font-size: 0.9rem;">Filter: 6+ months no orders, $5K+ lifetime value</span></div>
                <div class="flow-arrow">‚Üì</div>
                <div class="flow-box"><div class="step-badge">STEP 2</div><strong>Brian calls with personalized context</strong><br><em style="font-size: 0.9rem;">"Hi Sarah, I noticed Beach House Boutique hasn't ordered since July. Just checking in ‚Äì is everything okay?"</em><br><span style="font-size: 0.85rem; color: var(--secondary);">Tone: Empathetic, not pushy</span></div>
                <div class="flow-arrow">‚Üì</div>
                <div class="flow-box"><div class="step-badge">STEP 3</div><strong>Customer response</strong> ‚Üí Business slow / Price concerns / Switched vendors / Just forgot ‚Üí Path to sales rep with full context</div>
                <div class="flow-result">
                    <h4>Expected Results</h4>
                    <p>1,500 customers called ¬∑ 75‚Äì225 meetings (5‚Äì15%) ¬∑ 15‚Äì67 reactivated (20‚Äì30%) ¬∑ $225K‚Äì$1M revenue/month</p>
                </div>
            </div>
        </div>
    </section>

    <div class="section-divider"></div>

    <!-- Section 6: New Customers Flow -->
    <section class="flow-section flow-section--green">
        <div class="presentation-section" style="min-height: auto;">
            <h2>POWER #3: NEW CUSTOMER ACQUISITION</h2>
            <p class="subtitle">40,000+ independent retailers available</p>
            <div class="flow-diagram">
                <div class="flow-box"><div class="step-badge">STEP 1</div><strong>Generate qualified leads</strong><br><span style="color: var(--secondary); font-size: 0.9rem;">Apollo, Google Maps, etc.</span></div>
                <div class="flow-arrow">‚Üì</div>
                <div class="flow-box"><div class="step-badge">STEP 2</div><strong>Warm email (optional)</strong> ‚Äì Send catalog, track opens/clicks</div>
                <div class="flow-arrow">‚Üì</div>
                <div class="flow-box"><div class="step-badge">STEP 3</div><strong>Brian qualifies via phone</strong><br>Do they carry home decor? What aesthetic? Who handles buying?</div>
                <div class="flow-arrow">‚Üì</div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                    <div class="flow-box" style="background: #F0FDF4; border-left-color: var(--success);">Qualified & Interested ‚Üí Book meeting</div>
                    <div class="flow-box" style="background: var(--bg-primary);">Not a Fit ‚Üí Mark as unqualified</div>
                </div>
                <div class="flow-box"><div class="step-badge">STEP 4</div><strong>Sales rep receives brief</strong> ‚Äì Store aesthetic, budget level, timeline</div>
                <div class="flow-result">
                    <h4>Expected Results</h4>
                    <p>2,000 prospects called ¬∑ 20‚Äì60 meetings (1‚Äì3%) ¬∑ $150K‚Äì$900K revenue/year</p>
                </div>
            </div>
        </div>
    </section>

    <div class="section-divider"></div>

    <!-- Section 7: The Transformation -->
    <section class="transformation-section">
        <h2 style="text-align: center;">THE TRANSFORMATION</h2>
        <div class="transformation-split">
            <div class="transformation-panel transformation-panel--without">
                <h3>WITHOUT BRIAN</h3>
                <div class="ambition-icons" style="margin-bottom: 20px;">
                    <span class="icon-person"></span><span class="icon-person"></span><span class="icon-person"></span><span class="icon-person"></span><span class="icon-person"></span><span class="icon-person"></span><span class="icon-person"></span>
                </div>
                <div class="stat">1,000 calls/month</div>
                <div class="stat">7 people</div>
                <div class="stat">To scale: Hire 40+ people</div>
                <div class="stat"><strong>$1.8M/year</strong></div>
                <div class="stat">4‚Äì6 month hiring cycle</div>
            </div>
            <div class="transformation-panel transformation-panel--with">
                <h3>WITH BRIAN</h3>
                <div class="ambition-icons" style="margin-bottom: 20px;">
                    <span class="icon-person"></span><span class="icon-person"></span><span class="icon-person"></span><span class="icon-person"></span><span class="icon-person"></span><span class="icon-person"></span><span class="icon-person"></span><span class="icon-brian"></span>
                </div>
                <div class="stat">4,000 calls/month</div>
                <div class="stat">Same 7 people + Brian</div>
                <div class="stat">To scale: Turn up volume</div>
                <div class="stat"><strong>$134K/year</strong></div>
                <div class="stat">Instant scale</div>
            </div>
        </div>
        <div class="transformation-cta">
            <span class="big-badge">13√ó MORE COST-EFFECTIVE</span>
            <p style="margin-top: 16px; color: var(--secondary); font-size: 1.1rem;">Same output as 40 people for 7% of the cost</p>
        </div>
    </section>

    <div class="section-divider"></div>

    <!-- Final Section -->
    <section class="final-section">
        <h2>Growth should feel calm,<br/>not exhausting.</h2>
        <a href="https://calendly.com/teamshessi/30min" target="_blank" class="cta-button">Explore the System</a>
    </section>

    <!-- Three.js Library -->
    <script src="https://unpkg.com/three@0.150.1/build/three.min.js"></script>

    <script>
        // Three.js Animated Background
        let scene, camera, renderer, particles;
        let tamScene, tamCamera, tamRenderer, tamParticles;
        let isDarkMode = false; // Kalalou starts with light theme
        let animationId;

        function createWaveScene({ canvas, backgroundHex, lineHex, opacity }) {
            try {
                if (!canvas) {
                    console.error('Canvas not found');
                    return null;
                }

                const width = canvas.clientWidth || window.innerWidth;
                const height = canvas.clientHeight || window.innerHeight;

                // Scene
                const localScene = new THREE.Scene();
                localScene.background = new THREE.Color(backgroundHex);

                // Camera
                const localCamera = new THREE.PerspectiveCamera(75, width / height, 0.1, 1000);
                localCamera.position.set(0, 0, 8);

                // Renderer
                const localRenderer = new THREE.WebGLRenderer({ 
                    canvas: canvas,
                    antialias: true,
                    alpha: false
                });
                localRenderer.setSize(width, height);
                localRenderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));

                // Create wave-like mountainous pattern
                const segments = 200;
                const lines = [];
                const lineMaterial = new THREE.LineBasicMaterial({
                    color: lineHex,
                    transparent: true,
                    opacity,
                    linewidth: 1
                });

                // Create multiple layers of wave lines
                for (let layer = 0; layer < 120; layer++) {
                    const geometry = new THREE.BufferGeometry();
                    const positions = [];
                    const y = (layer / 120 - 0.5) * 18;

                    for (let i = 0; i <= segments; i++) {
                        const x = (i / segments - 0.5) * 30;
                        // Create wave pattern with multiple frequencies for depth
                        const z = Math.sin(x * 0.2 + layer * 0.1) * 2 + 
                                  Math.cos(x * 0.4 + layer * 0.08) * 1.2 +
                                  Math.sin(x * 0.6 + layer * 0.15) * 0.8;
                        
                        positions.push(x, y, z);
                    }

                    geometry.setAttribute('position', new THREE.Float32BufferAttribute(positions, 3));
                    
                    const line = new THREE.Line(geometry, lineMaterial);
                    localScene.add(line);
                    lines.push(line);
                }

                return { scene: localScene, camera: localCamera, renderer: localRenderer, particles: lines, canvas };
            } catch (error) {
                console.error('Error initializing Three.js:', error);
                return null;
            }
        }

        function initThreeJS() {
            // Hero background
            const heroCanvas = document.getElementById('heroCanvas');
            const heroBundle = createWaveScene({
                canvas: heroCanvas,
                backgroundHex: 0xF7F4EF,
                lineHex: 0x6F6F6F,
                opacity: 0.3
            });

            if (heroBundle) {
                ({ scene, camera, renderer, particles } = heroBundle);
            }

            // TAM background
            const tamCanvasEl = document.getElementById('tamCanvas');
            const tamBundle = createWaveScene({
                canvas: tamCanvasEl,
                backgroundHex: 0xF7F4EF,
                lineHex: 0x6F6F6F,
                opacity: 0.25
            });

            if (tamBundle) {
                ({ scene: tamScene, camera: tamCamera, renderer: tamRenderer, particles: tamParticles } = tamBundle);
            }

            let time = 0;
            function animateAll() {
                animationId = requestAnimationFrame(animateAll);
                time += 0.01;

                const animateBundle = (bundleParticles, bundleRenderer, bundleScene, bundleCamera) => {
                    if (!bundleParticles || !bundleRenderer || !bundleScene || !bundleCamera) return;
                    bundleParticles.forEach((line, i) => {
                        const positions = line.geometry.attributes.position;
                        for (let j = 0; j < positions.count; j++) {
                            const x = positions.getX(j);
                            const z = Math.sin(x * 0.2 + i * 0.1 + time) * 2 + 
                                      Math.cos(x * 0.4 + i * 0.08 + time * 0.8) * 1.2 +
                                      Math.sin(x * 0.6 + i * 0.15 + time * 0.6) * 0.8;
                            positions.setZ(j, z);
                        }
                        positions.needsUpdate = true;
                    });
                    bundleRenderer.render(bundleScene, bundleCamera);
                };

                animateBundle(particles, renderer, scene, camera);
                animateBundle(tamParticles, tamRenderer, tamScene, tamCamera);
            }

            animateAll();

            // Handle resize for both canvases
            window.addEventListener('resize', () => {
                const resizeBundle = (bundleRenderer, bundleCamera, canvasEl) => {
                    if (!bundleRenderer || !bundleCamera || !canvasEl) return;
                    const w = canvasEl.clientWidth || window.innerWidth;
                    const h = canvasEl.clientHeight || window.innerHeight;
                    bundleCamera.aspect = w / h;
                    bundleCamera.updateProjectionMatrix();
                    bundleRenderer.setSize(w, h);
                };
                resizeBundle(renderer, camera, heroCanvas);
                resizeBundle(tamRenderer, tamCamera, tamCanvasEl);
            });
        }

        // Theme Toggle
        const themeToggle = document.getElementById('themeToggle');
        const themeIcon = document.getElementById('themeIcon');

        if (themeToggle) {
            themeToggle.addEventListener('click', () => {
                isDarkMode = !isDarkMode;
                
                if (isDarkMode) {
                    // Dark mode
                    const applyDark = (s, p) => {
                        if (!s) return;
                        s.background = new THREE.Color(0x000000);
                        if (p && p.length > 0) {
                            p.forEach(line => {
                                line.material.color.setHex(0xaaaaaa);
                                line.material.opacity = 0.5;
                            });
                        }
                    };
                    applyDark(scene, particles);
                    applyDark(tamScene, tamParticles);
                    themeIcon.textContent = '‚òÄÔ∏è';
                } else {
                    // Light mode (default for Kalalou)
                    const applyLight = (s, p, op) => {
                        if (!s) return;
                        s.background = new THREE.Color(0xF7F4EF);
                        if (p && p.length > 0) {
                            p.forEach(line => {
                                line.material.color.setHex(0x6F6F6F);
                                line.material.opacity = op;
                            });
                        }
                    };
                    applyLight(scene, particles, 0.3);
                    applyLight(tamScene, tamParticles, 0.25);
                    themeIcon.textContent = 'üåô';
                }
            });
        }

        // Initialize Three.js when page loads
        function checkThreeJS() {
            if (typeof THREE !== 'undefined') {
                setTimeout(initThreeJS, 100);
            } else {
                console.error('Three.js library not loaded');
                setTimeout(checkThreeJS, 500);
            }
        }

        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', checkThreeJS);
        } else {
            checkThreeJS();
        }

        // Carousel functionality
        let currentSlide = 0;
        const totalSlides = 3;
        const heroSlides = document.getElementById('heroSlides');
        const dots = document.querySelectorAll('.carousel-dot');
        const prevButton = document.getElementById('prevButton');
        const nextButton = document.getElementById('nextButton');

        function updateCarousel() {
            heroSlides.style.transform = `translateX(-${currentSlide * 100}%)`;
            
            // Update dots
            dots.forEach((dot, index) => {
                dot.classList.toggle('active', index === currentSlide);
            });
        }

        function nextSlide() {
            currentSlide = (currentSlide + 1) % totalSlides;
            updateCarousel();
        }

        function prevSlide() {
            currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
            updateCarousel();
        }

        // Button click handlers
        nextButton.addEventListener('click', nextSlide);
        prevButton.addEventListener('click', prevSlide);

        // Dot click handlers
        dots.forEach((dot, index) => {
            dot.addEventListener('click', () => {
                currentSlide = index;
                updateCarousel();
            });
        });

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight') nextSlide();
            if (e.key === 'ArrowLeft') prevSlide();
        });

        // Touch swipe support
        let touchStartX = 0;
        let touchEndX = 0;

        heroSlides.addEventListener('touchstart', (e) => {
            touchStartX = e.changedTouches[0].screenX;
        });

        heroSlides.addEventListener('touchend', (e) => {
            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
        });

        function handleSwipe() {
            if (touchEndX < touchStartX - 50) nextSlide();
            if (touchEndX > touchStartX + 50) prevSlide();
        }

        // Smooth scroll reveal on load
        window.addEventListener('load', () => {
            const sections = document.querySelectorAll('.section');
            sections.forEach((section, index) => {
                section.style.animationDelay = `${0.2 + index * 0.1}s`;
            });
        });

        // Section Carousels Functionality
        const sectionCarousels = {
            1: { currentSlide: 0, totalSlides: 3 },
            2: { currentSlide: 0, totalSlides: 3 },
            3: { currentSlide: 0, totalSlides: 3 },
            4: { currentSlide: 0, totalSlides: 3 }
        };

        // TAM Carousel Functionality
        let tamCurrentSlide = 0;
        const tamTotalSlides = 4;
        const tamSlides = document.getElementById('tamSlides');
        const tamDots = document.querySelectorAll('.tam-dot');
        const tamPrev = document.getElementById('tamPrev');
        const tamNext = document.getElementById('tamNext');

        function updateTamCarousel() {
            if (!tamSlides) return;
            tamSlides.style.transform = `translateX(-${tamCurrentSlide * 100}%)`;
            tamDots.forEach((dot, i) => dot.classList.toggle('active', i === tamCurrentSlide));
        }

        function tamNextSlide() {
            tamCurrentSlide = (tamCurrentSlide + 1) % tamTotalSlides;
            updateTamCarousel();
        }

        function tamPrevSlide() {
            tamCurrentSlide = (tamCurrentSlide - 1 + tamTotalSlides) % tamTotalSlides;
            updateTamCarousel();
        }

        if (tamNext) tamNext.addEventListener('click', tamNextSlide);
        if (tamPrev) tamPrev.addEventListener('click', tamPrevSlide);

        tamDots.forEach((dot, i) => {
            dot.addEventListener('click', () => {
                tamCurrentSlide = i;
                updateTamCarousel();
            });
        });

        // Touch swipe support for TAM
        if (tamSlides) {
            let tamTouchStartX = 0;
            let tamTouchEndX = 0;

            tamSlides.addEventListener('touchstart', (e) => {
                tamTouchStartX = e.changedTouches[0].screenX;
            });

            tamSlides.addEventListener('touchend', (e) => {
                tamTouchEndX = e.changedTouches[0].screenX;
                const diff = tamTouchEndX - tamTouchStartX;
                if (Math.abs(diff) > 50) {
                    if (diff < 0) tamNextSlide();
                    else tamPrevSlide();
                }
            });
        }

        function updateSectionCarousel(sectionNum) {
            const slides = document.getElementById(`section${sectionNum}Slides`);
            const carousel = sectionCarousels[sectionNum];
            
            if (slides) {
                slides.style.transform = `translateX(-${carousel.currentSlide * 100}%)`;
            }

            // Update dots for this section
            const dots = document.querySelectorAll(`[data-section="${sectionNum}"].section-carousel-dot`);
            dots.forEach((dot, index) => {
                dot.classList.toggle('active', index === carousel.currentSlide);
            });
        }

        function nextSectionSlide(sectionNum) {
            const carousel = sectionCarousels[sectionNum];
            carousel.currentSlide = (carousel.currentSlide + 1) % carousel.totalSlides;
            updateSectionCarousel(sectionNum);
        }

        function prevSectionSlide(sectionNum) {
            const carousel = sectionCarousels[sectionNum];
            carousel.currentSlide = (carousel.currentSlide - 1 + carousel.totalSlides) % carousel.totalSlides;
            updateSectionCarousel(sectionNum);
        }

        // Initialize all section carousels
        [1, 2, 3, 4].forEach(sectionNum => {
            // Button handlers
            const nextBtn = document.querySelector(`[data-section="${sectionNum}"][data-direction="next"]`);
            const prevBtn = document.querySelector(`[data-section="${sectionNum}"][data-direction="prev"]`);
            
            if (nextBtn) {
                nextBtn.addEventListener('click', () => nextSectionSlide(sectionNum));
            }
            if (prevBtn) {
                prevBtn.addEventListener('click', () => prevSectionSlide(sectionNum));
            }

            // Dot handlers
            const dots = document.querySelectorAll(`[data-section="${sectionNum}"].section-carousel-dot`);
            dots.forEach((dot, index) => {
                dot.addEventListener('click', () => {
                    sectionCarousels[sectionNum].currentSlide = index;
                    updateSectionCarousel(sectionNum);
                });
            });

            // Touch swipe support for each section
            const slides = document.getElementById(`section${sectionNum}Slides`);
            if (slides) {
                let touchStartX = 0;
                let touchEndX = 0;

                slides.addEventListener('touchstart', (e) => {
                    touchStartX = e.changedTouches[0].screenX;
                });

                slides.addEventListener('touchend', (e) => {
                    touchEndX = e.changedTouches[0].screenX;
                    const diff = touchEndX - touchStartX;
                    if (Math.abs(diff) > 50) {
                        if (diff < 0) {
                            nextSectionSlide(sectionNum);
                        } else {
                            prevSectionSlide(sectionNum);
                        }
                    }
                });
            }
        });
    </script>
</body>
</html>
