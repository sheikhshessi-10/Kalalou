<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI System Questionnaire - Kalalou</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #F7F4EF;
            --card: #FFFFFF;
            --accent: #B46A4C;
            --ink: #2C2C2C;
            --ink-light: #666666;
            --divider: #E8E1D8;
            --shadow: rgba(0, 0, 0, 0.08);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: var(--bg-primary);
            color: var(--ink);
            line-height: 1.6;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 40px;
            padding: 40px 20px;
        }

        h1 {
            font-family: 'Playfair Display', serif;
            font-size: 2.5rem;
            color: var(--accent);
            margin-bottom: 10px;
        }

        .subtitle {
            font-size: 1.1rem;
            color: var(--ink-light);
        }

        /* Tab Navigation */
        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            border-bottom: 2px solid var(--divider);
            overflow-x: auto;
            padding-bottom: 0;
        }

        .tab {
            padding: 15px 25px;
            background: transparent;
            border: none;
            border-bottom: 3px solid transparent;
            font-family: 'Inter', sans-serif;
            font-size: 1rem;
            font-weight: 500;
            color: var(--ink-light);
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
        }

        .tab:hover {
            color: var(--accent);
            background: rgba(180, 106, 76, 0.05);
        }

        .tab.active {
            color: var(--accent);
            border-bottom-color: var(--accent);
            font-weight: 600;
        }

        /* Form Sections */
        .form-section {
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .form-section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .form-card {
            background: var(--card);
            border-radius: 12px;
            padding: 40px;
            box-shadow: 0 2px 20px var(--shadow);
            margin-bottom: 30px;
        }

        .section-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.8rem;
            color: var(--accent);
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 2px solid var(--divider);
        }

        .question-group {
            margin-bottom: 30px;
        }

        .question-label {
            display: block;
            font-weight: 500;
            color: var(--ink);
            margin-bottom: 10px;
            font-size: 1rem;
        }

        .required {
            color: var(--accent);
        }

        input[type="text"],
        input[type="email"],
        input[type="tel"],
        input[type="number"],
        textarea,
        select {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid var(--divider);
            border-radius: 8px;
            font-family: 'Inter', sans-serif;
            font-size: 1rem;
            background: var(--bg-primary);
            color: var(--ink);
            transition: all 0.3s ease;
        }

        input:focus,
        textarea:focus,
        select:focus {
            outline: none;
            border-color: var(--accent);
            background: white;
        }

        textarea {
            min-height: 100px;
            resize: vertical;
        }

        .radio-group,
        .checkbox-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-top: 10px;
        }

        .radio-option,
        .checkbox-option {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        input[type="radio"],
        input[type="checkbox"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }

        th, td {
            padding: 12px;
            text-align: left;
            border: 1px solid var(--divider);
        }

        th {
            background: var(--bg-primary);
            font-weight: 600;
            color: var(--ink);
        }

        td input {
            margin: 0;
            padding: 8px;
        }

        .submit-button {
            width: 100%;
            padding: 15px 30px;
            background: var(--accent);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 20px;
        }

        .submit-button:hover {
            background: #9d5a3f;
            transform: translateY(-2px);
            box-shadow: 0 4px 20px rgba(180, 106, 76, 0.3);
        }

        .subsection-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.3rem;
            color: var(--accent);
            margin: 40px 0 20px 0;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--divider);
        }

        .table-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-top: 15px;
        }

        .table-row {
            display: grid;
            grid-template-columns: 1fr auto auto;
            gap: 15px;
            align-items: center;
            padding: 10px;
            background: rgba(0, 0, 0, 0.02);
            border-radius: 6px;
        }

        .table-row:first-child {
            background: var(--bg-primary);
            font-weight: 600;
        }

        .table-row label {
            margin-bottom: 0;
        }

        .table-row input[type="text"] {
            width: 100%;
            min-width: 80px;
        }

        .radio-inline {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .radio-inline label {
            display: flex;
            align-items: center;
            gap: 5px;
            margin-bottom: 0;
            font-weight: normal;
        }

        .radio-inline input[type="radio"] {
            width: auto;
            margin: 0;
        }

        .note {
            background: rgba(180, 106, 76, 0.1);
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid var(--accent);
            margin: 20px 0;
            font-size: 0.95rem;
            color: var(--ink-light);
        }

        .subsection {
            margin-top: 28px;
            padding-top: 24px;
            border-top: 1px solid var(--divider);
        }

        .subsection-title {
            font-weight: 700;
            color: var(--ink);
            margin-bottom: 16px;
            font-size: 1.15rem;
            letter-spacing: 0.01em;
        }

        .helper {
            font-size: 0.95rem;
            color: var(--ink-light);
            margin-top: 6px;
        }

        .autosave-indicator {
            position: fixed;
            right: 16px;
            bottom: 16px;
            background: var(--card);
            border: 1px solid var(--divider);
            border-radius: 999px;
            padding: 10px 14px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.10);
            color: var(--ink-light);
            font-size: 0.95rem;
            opacity: 0;
            transform: translateY(8px);
            transition: opacity 0.18s ease, transform 0.18s ease;
            z-index: 1000;
            pointer-events: none;
        }

        .autosave-indicator.show {
            opacity: 1;
            transform: translateY(0);
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            justify-content: center;
            align-items: center;
            animation: fadeIn 0.3s ease;
        }

        .modal-content {
            background: var(--card);
            padding: 40px;
            border-radius: 16px;
            max-width: 500px;
            width: 90%;
            text-align: center;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
            animation: slideUp 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideUp {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .modal-icon {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            font-size: 3rem;
            font-weight: bold;
        }

        .modal-content.success .modal-icon {
            background: #d4edda;
            color: #155724;
        }

        .modal-content.error .modal-icon {
            background: #f8d7da;
            color: #721c24;
        }

        .modal-content h2 {
            font-family: 'Playfair Display', serif;
            font-size: 1.8rem;
            color: var(--ink);
            margin-bottom: 15px;
        }

        .modal-content p {
            color: var(--ink-light);
            font-size: 1rem;
            line-height: 1.6;
            margin-bottom: 10px;
        }

        .modal-button {
            margin-top: 25px;
            padding: 12px 40px;
            background: var(--accent);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .modal-button:hover {
            background: #9d5a3f;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(180, 106, 76, 0.3);
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }

            .form-card {
                padding: 25px;
            }

            .tabs {
                flex-wrap: wrap;
            }

            .tab {
                padding: 12px 15px;
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>AI System Questionnaire</h1>
            <p class="subtitle">Help us understand your business needs</p>
        </header>

        <!-- Inbound AI System -->
        <div id="inbound" class="form-section active">
            <form class="form-card">
                <h2 class="section-title">Inbound AI System Questionnaire</h2>

                <div class="note">
                    Your progress is saved automatically as you type. You can close this page and come back anytime.
                </div>

                <div class="subsection">
                    <div class="subsection-title">SECTION 1: CALL VOLUME &amp; PATTERNS</div>

                    <div class="question-group">
                        <label class="question-label">1.1 Current inbound call volume (approximately): How many inbound calls do you receive per month?</label>
                        <div class="radio-group">
                            <label class="radio-option"><input type="radio" name="s1_1_calls_per_month_range" value="500-1000">500-1,000</label>
                            <label class="radio-option"><input type="radio" name="s1_1_calls_per_month_range" value="1000-1500">1,000-1,500</label>
                            <label class="radio-option"><input type="radio" name="s1_1_calls_per_month_range" value="1500-2500">1,500-2,500</label>
                            <label class="radio-option"><input type="radio" name="s1_1_calls_per_month_range" value="2500+">2,500+</label>
                            <label class="radio-option"><input type="radio" name="s1_1_calls_per_month_range" value="not_sure">Not sure (we'll help you track this)</label>
                        </div>
                        <div class="helper">If you have data, exact number:</div>
                        <input type="number" name="s1_1_calls_per_month_exact" placeholder="calls/month" min="0">
                    </div>

                    <div class="question-group">
                        <label class="question-label">1.2 Caller breakdown (estimate %): Who's calling you?</label>
                        <table>
                            <tr><th>Caller Type</th><th>Percentage (%)</th></tr>
                            <tr><td>Existing customers</td><td><input type="number" name="s1_2_existing_customers_pct" min="0" max="100" placeholder="%" ></td></tr>
                            <tr><td>New prospects</td><td><input type="number" name="s1_2_new_prospects_pct" min="0" max="100" placeholder="%" ></td></tr>
                            <tr><td>Vendors/suppliers</td><td><input type="number" name="s1_2_vendors_pct" min="0" max="100" placeholder="%" ></td></tr>
                            <tr><td>Other</td><td><input type="number" name="s1_2_other_pct" min="0" max="100" placeholder="%" ></td></tr>
                        </table>
                    </div>

                    <div class="question-group">
                        <label class="question-label">1.3 When do most calls come in? (check all that apply)</label>
                        <div class="checkbox-group">
                            <label class="checkbox-option"><input type="checkbox" name="s1_3_call_times[]" value="business_hours">Business hours (9am-5pm CST)</label>
                            <label class="checkbox-option"><input type="checkbox" name="s1_3_call_times[]" value="early_morning">Early morning (7am-9am)</label>
                            <label class="checkbox-option"><input type="checkbox" name="s1_3_call_times[]" value="late_afternoon_evening">Late afternoon/evening (5pm-8pm)</label>
                            <label class="checkbox-option"><input type="checkbox" name="s1_3_call_times[]" value="after_hours">After business hours (8pm-7am)</label>
                            <label class="checkbox-option"><input type="checkbox" name="s1_3_call_times[]" value="weekends">Weekends</label>
                            <label class="checkbox-option"><input type="checkbox" name="s1_3_call_times[]" value="evenly_distributed">Calls are distributed fairly evenly throughout the day</label>
                        </div>
                    </div>

                    <div class="question-group">
                        <label class="question-label">1.4 Missed calls: How many calls do you estimate you MISS per month? (After hours, busy lines, holidays, etc.)</label>
                        <div class="radio-group">
                            <label class="radio-option"><input type="radio" name="s1_4_missed_calls_range" value="lt_10">Less than 10/month</label>
                            <label class="radio-option"><input type="radio" name="s1_4_missed_calls_range" value="10_50">10-50/month</label>
                            <label class="radio-option"><input type="radio" name="s1_4_missed_calls_range" value="50_150">50-150/month</label>
                            <label class="radio-option"><input type="radio" name="s1_4_missed_calls_range" value="150_300">150-300/month</label>
                            <label class="radio-option"><input type="radio" name="s1_4_missed_calls_range" value="300+">300+/month</label>
                            <label class="radio-option"><input type="radio" name="s1_4_missed_calls_range" value="unknown">We don't know</label>
                        </div>
                        <div class="helper">If you have data, estimate:</div>
                        <input type="number" name="s1_4_missed_calls_exact" placeholder="missed calls/month" min="0">
                    </div>

                    <div class="question-group">
                        <label class="question-label">1.5 Current after-hours process: What happens when someone calls after business hours?</label>
                        <div class="radio-group">
                            <label class="radio-option"><input type="radio" name="s1_5_after_hours_process" value="voicemail">Voicemail (we call back next business day)</label>
                            <label class="radio-option"><input type="radio" name="s1_5_after_hours_process" value="no_system">No system (calls just ring, no voicemail)</label>
                            <label class="radio-option"><input type="radio" name="s1_5_after_hours_process" value="answering_service">Answering service (live person)</label>
                            <label class="radio-option"><input type="radio" name="s1_5_after_hours_process" value="automated_system">Automated system (press 1 for..., etc.)</label>
                            <label class="radio-option"><input type="radio" name="s1_5_after_hours_process" value="other">Other</label>
                        </div>
                        <input type="text" name="s1_5_after_hours_other" placeholder="If other, describe...">
                    </div>
                </div>

                <div class="subsection">
                    <div class="subsection-title">SECTION 2: CALL TYPES &amp; DISTRIBUTION</div>

                    <div class="question-group">
                        <label class="question-label">2.1 What are customers calling about? Rank top call types (1 = most common, 10 = least common) and estimate %.</label>
                        <div class="helper">Percentages don't need to add to 100% — rough estimates are fine.</div>
                        <table>
                            <tr><th>Call Type</th><th>Rank (1-10)</th><th>% of Total</th></tr>
                            <tr><td>Product information/specifications</td><td><input type="number" name="s2_1_product_info_rank" min="1" max="10"></td><td><input type="number" name="s2_1_product_info_pct" min="0" max="100" placeholder="%"></td></tr>
                            <tr><td>Pricing inquiries</td><td><input type="number" name="s2_1_pricing_rank" min="1" max="10"></td><td><input type="number" name="s2_1_pricing_pct" min="0" max="100" placeholder="%"></td></tr>
                            <tr><td>Order status/tracking</td><td><input type="number" name="s2_1_order_status_rank" min="1" max="10"></td><td><input type="number" name="s2_1_order_status_pct" min="0" max="100" placeholder="%"></td></tr>
                            <tr><td>Inventory availability ("Do you have X in stock?")</td><td><input type="number" name="s2_1_inventory_rank" min="1" max="10"></td><td><input type="number" name="s2_1_inventory_pct" min="0" max="100" placeholder="%"></td></tr>
                            <tr><td>Account questions (login, payment terms, etc.)</td><td><input type="number" name="s2_1_account_rank" min="1" max="10"></td><td><input type="number" name="s2_1_account_pct" min="0" max="100" placeholder="%"></td></tr>
                            <tr><td>New customer inquiry (requesting catalog)</td><td><input type="number" name="s2_1_new_customer_rank" min="1" max="10"></td><td><input type="number" name="s2_1_new_customer_pct" min="0" max="100" placeholder="%"></td></tr>
                            <tr><td>Placing an order</td><td><input type="number" name="s2_1_place_order_rank" min="1" max="10"></td><td><input type="number" name="s2_1_place_order_pct" min="0" max="100" placeholder="%"></td></tr>
                            <tr><td>Returns/complaints/issues</td><td><input type="number" name="s2_1_returns_rank" min="1" max="10"></td><td><input type="number" name="s2_1_returns_pct" min="0" max="100" placeholder="%"></td></tr>
                            <tr><td>Shipping information</td><td><input type="number" name="s2_1_shipping_rank" min="1" max="10"></td><td><input type="number" name="s2_1_shipping_pct" min="0" max="100" placeholder="%"></td></tr>
                            <tr>
                                <td>Other: <input type="text" name="s2_1_other_label" placeholder="Describe..."></td>
                                <td><input type="number" name="s2_1_other_rank" min="1" max="10"></td>
                                <td><input type="number" name="s2_1_other_pct" min="0" max="100" placeholder="%"></td>
                            </tr>
                        </table>
                    </div>

                    <div class="question-group">
                        <label class="question-label">2.2 Information requirements: What percentage of calls can be answered with general product knowledge (no customer-specific data needed)?</label>
                        <div class="radio-group">
                            <label class="radio-option"><input type="radio" name="s2_2_general_knowledge_pct" value="0-25">0-25% (most calls need account lookup)</label>
                            <label class="radio-option"><input type="radio" name="s2_2_general_knowledge_pct" value="25-50">25-50%</label>
                            <label class="radio-option"><input type="radio" name="s2_2_general_knowledge_pct" value="50-75">50-75%</label>
                            <label class="radio-option"><input type="radio" name="s2_2_general_knowledge_pct" value="75-100">75-100% (most are general questions)</label>
                        </div>
                    </div>

                    <div class="question-group">
                        <label class="question-label">2.3 Customer-specific lookups: What percentage of calls require looking up customer-specific information (order history, account status, tracking, etc.)?</label>
                        <div class="radio-group">
                            <label class="radio-option"><input type="radio" name="s2_3_customer_lookup_pct" value="0-25">0-25%</label>
                            <label class="radio-option"><input type="radio" name="s2_3_customer_lookup_pct" value="25-50">25-50%</label>
                            <label class="radio-option"><input type="radio" name="s2_3_customer_lookup_pct" value="50-75">50-75%</label>
                            <label class="radio-option"><input type="radio" name="s2_3_customer_lookup_pct" value="75-100">75-100%</label>
                        </div>
                    </div>
                </div>

                <div class="subsection">
                    <div class="subsection-title">SECTION 3: AI CAPABILITIES REQUIRED</div>

                    <div class="question-group">
                        <label class="question-label">3.1 Order taking — should AI handle this? (mark priority)</label>
                        <table>
                            <tr><th>Capability</th><th>✅ Must-have</th><th>⭐ Nice-to-have</th><th>❌ Not needed</th></tr>
                            <tr>
                                <td>Take simple repeat orders (customer knows item numbers)</td>
                                <td><input type="radio" name="s3_1_repeat_orders" value="must"></td>
                                <td><input type="radio" name="s3_1_repeat_orders" value="nice"></td>
                                <td><input type="radio" name="s3_1_repeat_orders" value="no"></td>
                            </tr>
                            <tr>
                                <td>Take new orders (customer browsing, asking questions)</td>
                                <td><input type="radio" name="s3_1_new_orders" value="must"></td>
                                <td><input type="radio" name="s3_1_new_orders" value="nice"></td>
                                <td><input type="radio" name="s3_1_new_orders" value="no"></td>
                            </tr>
                            <tr>
                                <td>Process payment information over phone</td>
                                <td><input type="radio" name="s3_1_phone_payments" value="must"></td>
                                <td><input type="radio" name="s3_1_phone_payments" value="nice"></td>
                                <td><input type="radio" name="s3_1_phone_payments" value="no"></td>
                            </tr>
                            <tr>
                                <td>Collect order details and email to sales team</td>
                                <td><input type="radio" name="s3_1_email_order_details" value="must"></td>
                                <td><input type="radio" name="s3_1_email_order_details" value="nice"></td>
                                <td><input type="radio" name="s3_1_email_order_details" value="no"></td>
                            </tr>
                            <tr>
                                <td>Don't take orders at all (transfer to sales)</td>
                                <td><input type="radio" name="s3_1_no_orders_transfer" value="must"></td>
                                <td><input type="radio" name="s3_1_no_orders_transfer" value="nice"></td>
                                <td><input type="radio" name="s3_1_no_orders_transfer" value="no"></td>
                            </tr>
                        </table>
                        <div class="helper">Your preferred approach:</div>
                        <input type="text" name="s3_1_preferred_approach" placeholder="Describe your ideal order-taking approach...">
                    </div>

                    <div class="question-group">
                        <label class="question-label">3.2 Inventory checking: Should AI be able to check real-time inventory/stock levels?</label>
                        <div class="radio-group">
                            <label class="radio-option"><input type="radio" name="s3_2_inventory_checking" value="must">✅ MUST-HAVE - Customers ask this constantly, critical feature</label>
                            <label class="radio-option"><input type="radio" name="s3_2_inventory_checking" value="nice">⭐ NICE-TO-HAVE - Would be helpful but not critical</label>
                            <label class="radio-option"><input type="radio" name="s3_2_inventory_checking" value="no">❌ NOT NEEDED - We'll handle this manually/transfer to team</label>
                        </div>
                    </div>

                    <div class="question-group">
                        <label class="question-label">3.3 Order status lookup: Should AI be able to look up order status and tracking information?</label>
                        <div class="radio-group">
                            <label class="radio-option"><input type="radio" name="s3_3_order_status_lookup" value="must">✅ MUST-HAVE - Very common question, need this</label>
                            <label class="radio-option"><input type="radio" name="s3_3_order_status_lookup" value="nice">⭐ NICE-TO-HAVE - Would reduce call transfers</label>
                            <label class="radio-option"><input type="radio" name="s3_3_order_status_lookup" value="no">❌ NOT NEEDED - Transfer these calls to our team</label>
                        </div>
                    </div>

                    <div class="question-group">
                        <label class="question-label">3.4 Call transfers: Should AI be able to transfer calls to your sales team?</label>
                        <div class="radio-group">
                            <label class="radio-option"><input type="radio" name="s3_4_call_transfers" value="yes">Yes, transfer for complex questions or when customer requests human</label>
                            <label class="radio-option"><input type="radio" name="s3_4_call_transfers" value="specific">Only for very specific situations</label>
                            <label class="radio-option"><input type="radio" name="s3_4_call_transfers" value="no">No, AI should handle everything or take a message for callback</label>
                        </div>
                        <input type="text" name="s3_4_transfer_specific_situations" placeholder="If specific situations, specify...">

                        <div class="helper">If yes, who should receive transfers?</div>
                        <div class="checkbox-group">
                            <label class="checkbox-option"><input type="checkbox" name="s3_4_transfer_routing[]" value="general_sales">General sales line</label>
                            <label class="checkbox-option"><input type="checkbox" name="s3_4_transfer_routing[]" value="specific_rep">Specific rep based on customer account</label>
                            <label class="checkbox-option"><input type="checkbox" name="s3_4_transfer_routing[]" value="by_call_type">Different reps based on call type (new vs. existing customer)</label>
                            <label class="checkbox-option"><input type="checkbox" name="s3_4_transfer_routing[]" value="other">Other approach</label>
                        </div>
                        <input type="tel" name="s3_4_general_sales_number" placeholder="General sales line phone number (if applicable)">
                        <input type="text" name="s3_4_transfer_other_approach" placeholder="Other approach (if applicable)">
                    </div>
                </div>

                <div class="subsection">
                    <div class="subsection-title">SECTION 4: SYSTEM INTEGRATIONS</div>

                    <div class="question-group">
                        <label class="question-label">4.1 Which systems need to be integrated? (mark priority)</label>
                        <table>
                            <tr><th>System Integration</th><th>✅ Must-have</th><th>⭐ Nice-to-have</th><th>❌ Not needed</th></tr>
                            <tr><td>NetSuite - Read customer data (account info, contact details)</td><td><input type="radio" name="s4_1_netsuite_customer_data" value="must"></td><td><input type="radio" name="s4_1_netsuite_customer_data" value="nice"></td><td><input type="radio" name="s4_1_netsuite_customer_data" value="no"></td></tr>
                            <tr><td>NetSuite - Read order history (past purchases, dates)</td><td><input type="radio" name="s4_1_netsuite_order_history" value="must"></td><td><input type="radio" name="s4_1_netsuite_order_history" value="nice"></td><td><input type="radio" name="s4_1_netsuite_order_history" value="no"></td></tr>
                            <tr><td>NetSuite - Check inventory levels (real-time stock)</td><td><input type="radio" name="s4_1_netsuite_inventory" value="must"></td><td><input type="radio" name="s4_1_netsuite_inventory" value="nice"></td><td><input type="radio" name="s4_1_netsuite_inventory" value="no"></td></tr>
                            <tr><td>NetSuite - Create new orders (AI places order in system)</td><td><input type="radio" name="s4_1_netsuite_create_orders" value="must"></td><td><input type="radio" name="s4_1_netsuite_create_orders" value="nice"></td><td><input type="radio" name="s4_1_netsuite_create_orders" value="no"></td></tr>
                            <tr><td>Magento - Product catalog/information</td><td><input type="radio" name="s4_1_magento_catalog" value="must"></td><td><input type="radio" name="s4_1_magento_catalog" value="nice"></td><td><input type="radio" name="s4_1_magento_catalog" value="no"></td></tr>
                            <tr><td>Magento - Pricing information (wholesale tiers)</td><td><input type="radio" name="s4_1_magento_pricing" value="must"></td><td><input type="radio" name="s4_1_magento_pricing" value="nice"></td><td><input type="radio" name="s4_1_magento_pricing" value="no"></td></tr>
                            <tr><td>Email system - Send confirmations/follow-ups</td><td><input type="radio" name="s4_1_email_system" value="must"></td><td><input type="radio" name="s4_1_email_system" value="nice"></td><td><input type="radio" name="s4_1_email_system" value="no"></td></tr>
                            <tr><td>Calendar system - Schedule callbacks (Google/Outlook)</td><td><input type="radio" name="s4_1_calendar_system" value="must"></td><td><input type="radio" name="s4_1_calendar_system" value="nice"></td><td><input type="radio" name="s4_1_calendar_system" value="no"></td></tr>
                            <tr>
                                <td>Other: <input type="text" name="s4_1_other_system_label" placeholder="System name..."></td>
                                <td><input type="radio" name="s4_1_other_system" value="must"></td>
                                <td><input type="radio" name="s4_1_other_system" value="nice"></td>
                                <td><input type="radio" name="s4_1_other_system" value="no"></td>
                            </tr>
                        </table>
                    </div>

                    <div class="question-group">
                        <label class="question-label">4.2 Can you provide us with:</label>
                        <div class="checkbox-group">
                            <label class="checkbox-option"><input type="checkbox" name="s4_2_resources[]" value="netsuite_api">NetSuite API credentials (read-only to start)</label>
                            <label class="checkbox-option"><input type="checkbox" name="s4_2_resources[]" value="magento_api">Magento API credentials (read-only to start)</label>
                            <label class="checkbox-option"><input type="checkbox" name="s4_2_resources[]" value="catalog_export">Product catalog export (CSV/Excel/PDF)</label>
                            <label class="checkbox-option"><input type="checkbox" name="s4_2_resources[]" value="sample_orders">Sample order data (anonymized for testing)</label>
                            <label class="checkbox-option"><input type="checkbox" name="s4_2_resources[]" value="it_help">We'll need IT help to set this up</label>
                            <label class="checkbox-option"><input type="checkbox" name="s4_2_resources[]" value="not_sure">Not sure - let's discuss on our call</label>
                        </div>
                    </div>

                    <div class="question-group">
                        <label class="question-label">4.3 System administration: Who manages your NetSuite and Magento systems?</label>
                        <div class="radio-group">
                            <label class="radio-option"><input type="radio" name="s4_3_system_admin" value="internal_it">Internal IT team</label>
                            <label class="radio-option"><input type="radio" name="s4_3_system_admin" value="external_consultant">External consultant/agency</label>
                            <label class="radio-option"><input type="radio" name="s4_3_system_admin" value="self_managed">We manage it ourselves</label>
                            <label class="radio-option"><input type="radio" name="s4_3_system_admin" value="combination">Combination</label>
                            <label class="radio-option"><input type="radio" name="s4_3_system_admin" value="not_sure">Not sure - we'll find out</label>
                        </div>
                        <input type="text" name="s4_3_external_agency" placeholder="If external consultant/agency, name...">
                        <input type="text" name="s4_3_combination_details" placeholder="If combination, specify...">

                        <div class="helper">Primary contact for technical setup:</div>
                        <input type="text" name="s4_3_tech_contact_name" placeholder="Name">
                        <input type="text" name="s4_3_tech_contact_role" placeholder="Role">
                        <input type="email" name="s4_3_tech_contact_email" placeholder="Email">
                    </div>
                </div>

                <div class="subsection">
                    <div class="subsection-title">SECTION 5: SUCCESS METRICS</div>

                    <div class="question-group">
                        <label class="question-label">5.1 How will you measure success? Rank these metrics by importance (1 = most important, 5 = least important) and add a target goal.</label>
                        <table>
                            <tr><th>Metric</th><th>Rank (1-5)</th><th>Target Goal</th></tr>
                            <tr><td>Number of calls answered (volume)</td><td><input type="number" name="s5_1_calls_answered_rank" min="1" max="5"></td><td><input type="text" name="s5_1_calls_answered_target" placeholder="e.g., 1,200/month"></td></tr>
                            <tr><td>Customer satisfaction (positive feedback)</td><td><input type="number" name="s5_1_satisfaction_rank" min="1" max="5"></td><td><input type="text" name="s5_1_satisfaction_target" placeholder="e.g., 90%"></td></tr>
                            <tr><td>Call resolution rate (% handled without transfer)</td><td><input type="number" name="s5_1_resolution_rank" min="1" max="5"></td><td><input type="text" name="s5_1_resolution_target" placeholder="e.g., 70%"></td></tr>
                            <tr><td>After-hours calls answered</td><td><input type="number" name="s5_1_after_hours_rank" min="1" max="5"></td><td><input type="text" name="s5_1_after_hours_target" placeholder="e.g., 200/month"></td></tr>
                            <tr><td>Cost savings vs. hiring CSRs</td><td><input type="number" name="s5_1_cost_savings_rank" min="1" max="5"></td><td><input type="text" name="s5_1_cost_savings_target" placeholder="e.g., $____/month"></td></tr>
                        </table>
                    </div>

                    <div class="question-group">
                        <label class="question-label">5.2 Success scenario: What would make you say "This AI system is working great"?</label>
                        <textarea name="s5_2_success_scenario" placeholder="Be specific — give us your vision of success"></textarea>
                    </div>

                    <div class="question-group">
                        <label class="question-label">5.3 Failure scenario: What would make you say "This isn't working, we need to fix it"?</label>
                        <textarea name="s5_3_failure_scenario" placeholder="Be specific so we know what to avoid"></textarea>
                    </div>
                </div>

                <div class="subsection">
                    <div class="subsection-title">SECTION 6: TEAM &amp; OPERATIONS</div>

                    <div class="question-group">
                        <label class="question-label">6.1 Primary point of contact (AI training, updates, feedback)</label>
                        <input type="text" name="s6_1_contact_name" placeholder="Name">
                        <input type="text" name="s6_1_contact_role" placeholder="Role">
                        <input type="email" name="s6_1_contact_email" placeholder="Email">
                        <input type="tel" name="s6_1_contact_phone" placeholder="Phone">
                    </div>

                    <div class="question-group">
                        <label class="question-label">6.2 Dashboard access: Who should have access to the dashboard and call recordings?</label>
                        <div class="checkbox-group">
                            <label class="checkbox-option"><input type="checkbox" name="s6_2_dashboard_access[]" value="doug_williams">Doug Williams</label>
                            <label class="checkbox-option"><input type="checkbox" name="s6_2_dashboard_access[]" value="susan_williams">Susan Williams</label>
                            <label class="checkbox-option"><input type="checkbox" name="s6_2_dashboard_access[]" value="sales_team">Sales team (all 7 people)</label>
                            <label class="checkbox-option"><input type="checkbox" name="s6_2_dashboard_access[]" value="office_manager">Office manager</label>
                            <label class="checkbox-option"><input type="checkbox" name="s6_2_dashboard_access[]" value="it_admin">IT administrator</label>
                            <label class="checkbox-option"><input type="checkbox" name="s6_2_dashboard_access[]" value="other">Other</label>
                        </div>
                        <input type="text" name="s6_2_dashboard_access_other" placeholder="If other, specify...">
                    </div>

                    <div class="question-group">
                        <label class="question-label">6.3 Call recordings: Do you want recordings of customer calls?</label>
                        <div class="radio-group">
                            <label class="radio-option"><input type="radio" name="s6_3_recordings" value="all">Yes, record all calls</label>
                            <label class="radio-option"><input type="radio" name="s6_3_recordings" value="transfers_only">Only record calls that transfer to humans</label>
                            <label class="radio-option"><input type="radio" name="s6_3_recordings" value="flagged_only">Only record flagged calls (complaints, issues)</label>
                            <label class="radio-option"><input type="radio" name="s6_3_recordings" value="none">No recordings (just AI-generated summaries/transcripts)</label>
                        </div>
                        <div class="helper">Storage preference:</div>
                        <div class="radio-group">
                            <label class="radio-option"><input type="radio" name="s6_3_recording_storage" value="30_days">Store recordings for 30 days</label>
                            <label class="radio-option"><input type="radio" name="s6_3_recording_storage" value="90_days">Store recordings for 90 days</label>
                            <label class="radio-option"><input type="radio" name="s6_3_recording_storage" value="1_year">Store recordings for 1 year</label>
                            <label class="radio-option"><input type="radio" name="s6_3_recording_storage" value="other">Other</label>
                        </div>
                        <input type="text" name="s6_3_recording_storage_other" placeholder="If other, specify...">
                    </div>
                </div>

                <div class="subsection">
                    <div class="subsection-title">SECTION 7: COMPLIANCE &amp; OPERATIONS</div>

                    <div class="question-group">
                        <label class="question-label">7.1 Topics AI should NEVER discuss (and must transfer immediately)</label>
                        <textarea name="s7_1_never_topics" placeholder="Examples: pricing negotiations beyond published rates, custom product development, legal issues"></textarea>
                    </div>

                    <div class="question-group">
                        <label class="question-label">7.2 Customer communication notes: Anything we should know about how your customers communicate?</label>
                        <div class="checkbox-group">
                            <label class="checkbox-option"><input type="checkbox" name="s7_2_comm_notes[]" value="regional_accents">Regional accents we should be aware of</label>
                            <label class="checkbox-option"><input type="checkbox" name="s7_2_comm_notes[]" value="industry_jargon">Industry jargon or terminology</label>
                            <label class="checkbox-option"><input type="checkbox" name="s7_2_comm_notes[]" value="common_objections">Common objections or concerns</label>
                            <label class="checkbox-option"><input type="checkbox" name="s7_2_comm_notes[]" value="seasonal_patterns">Seasonal patterns (busier during holidays, etc.)</label>
                            <label class="checkbox-option"><input type="checkbox" name="s7_2_comm_notes[]" value="other">Other communication considerations</label>
                        </div>
                        <textarea name="s7_2_comm_notes_details" placeholder="Add details here..."></textarea>
                    </div>
                </div>

                <div class="subsection">
                    <div class="subsection-title">SECTION 8: ADDITIONAL NOTES</div>

                    <div class="question-group">
                        <label class="question-label">8.1 Special requirements: Any special requirements, concerns, or considerations we should know about?</label>
                        <textarea name="s8_1_special_requirements" placeholder="Share anything important for us to know..."></textarea>
                    </div>

                    <div class="question-group">
                        <label class="question-label">8.2 Questions for us: Any questions about the inbound AI system you'd like us to address on our call?</label>
                        <textarea name="s8_2_questions_for_us" placeholder="Write your questions here..."></textarea>
                    </div>
                </div>

                <button type="submit" class="submit-button">Submit Inbound Questionnaire</button>
            </form>
        </div>
    </div>
    <script>
        // Small toast to reassure users data is saved
        let autosaveToastTimer = null;
        function flashAutosave() {
            const el = document.getElementById('autosaveIndicator');
            if (!el) return;
            el.classList.add('show');
            if (autosaveToastTimer) window.clearTimeout(autosaveToastTimer);
            autosaveToastTimer = window.setTimeout(() => el.classList.remove('show'), 900);
        }

        // showSection function removed - only inbound section exists

        // Auto-save functionality
        function getFormKey(sectionId) {
            return `questionnaire_${sectionId}_data`;
        }

        function saveFormData(form) {
            const sectionId = form.closest('.form-section').id;
            const formData = new FormData(form);
            const data = {};

            formData.forEach((value, key) => {
                if (data[key]) {
                    if (Array.isArray(data[key])) {
                        data[key].push(value);
                    } else {
                        data[key] = [data[key], value];
                    }
                } else {
                    data[key] = value;
                }
            });

            localStorage.setItem(getFormKey(sectionId), JSON.stringify(data));
            flashAutosave();
        }

        function loadFormData(sectionId) {
            const savedData = localStorage.getItem(getFormKey(sectionId));
            if (!savedData) return;

            try {
                const data = JSON.parse(savedData);
                const form = document.querySelector(`#${sectionId} form`);
                if (!form) return;

                // Restore form values
                Object.keys(data).forEach(key => {
                    const value = data[key];
                    const elements = form.querySelectorAll(`[name="${key}"]`);

                    elements.forEach(element => {
                        if (element.type === 'checkbox' || element.type === 'radio') {
                            if (Array.isArray(value)) {
                                element.checked = value.includes(element.value);
                            } else {
                                element.checked = element.value === value;
                            }
                        } else {
                            element.value = Array.isArray(value) ? value[0] : value;
                        }
                    });
                });

                console.log('Loaded saved data for:', sectionId);
            } catch (error) {
                console.error('Error loading saved data:', error);
            }
        }

        // Initialize auto-save for all forms
        document.querySelectorAll('form').forEach(form => {
            // Auto-save on input change
            form.addEventListener('input', function() {
                saveFormData(this);
            });

            // Auto-save on checkbox/radio change
            form.addEventListener('change', function() {
                saveFormData(this);
            });

            // Handle form submission
            form.addEventListener('submit', async function(e) {
                e.preventDefault();

                const sectionId = this.closest('.form-section').id;
                const formData = new FormData(this);
                const data = {};

                formData.forEach((value, key) => {
                    if (data[key]) {
                        if (Array.isArray(data[key])) {
                            data[key].push(value);
                        } else {
                            data[key] = [data[key], value];
                        }
                    } else {
                        data[key] = value;
                    }
                });

                // Determine form type
                let formType = 'Inbound AI System';

                // Prepare email body
                let emailBody = `New ${formType} Questionnaire Submission\n\n`;
                emailBody += `Submitted: ${new Date().toLocaleString()}\n`;
                emailBody += `Form Type: ${formType}\n\n`;
                emailBody += '='.repeat(50) + '\n\n';

                Object.keys(data).forEach(key => {
                    const value = data[key];
                    const formattedKey = key.replace(/_/g, ' ').replace(/\b\w/g, l => l.toUpperCase());
                    const formattedValue = Array.isArray(value) ? value.join(', ') : value;
                    emailBody += `${formattedKey}:\n${formattedValue}\n\n`;
                });

                console.log('Form submitted:', data);

                // Show loading state
                const submitButton = this.querySelector('.submit-button');
                const originalButtonText = submitButton.textContent;
                submitButton.textContent = 'Submitting...';
                submitButton.disabled = true;

                // Send email using FormSubmit.co with AJAX
                try {
                    // Create FormData for submission
                    const formDataToSend = new FormData();

                    // Add subject
                    formDataToSend.append('_subject', `${formType} Questionnaire - ${data.business_name || 'New Submission'}`);

                    // Add all form data
                    Object.keys(data).forEach(key => {
                        const value = Array.isArray(data[key]) ? data[key].join(', ') : data[key];
                        formDataToSend.append(key, value);
                    });

                    // Add message body
                    formDataToSend.append('message', emailBody);

                    // FormSubmit configuration to prevent redirect
                    formDataToSend.append('_captcha', 'false');
                    formDataToSend.append('_template', 'table');

                    // Submit via fetch (AJAX)
                    const response = await fetch('https://formsubmit.co/sheikhshessi@gmail.com', {
                        method: 'POST',
                        body: formDataToSend,
                        headers: {
                            'Accept': 'application/json'
                        }
                    });

                    // Reset button
                    submitButton.textContent = originalButtonText;
                    submitButton.disabled = false;

                    if (response.ok) {
                        // Show success modal
                        showSuccessModal(formType);

                        // Clear saved data
                        localStorage.removeItem(getFormKey(sectionId));

                        // Reset form
                        this.reset();
                    } else {
                        throw new Error('Submission failed');
                    }
                } catch (error) {
                    console.error('Error submitting form:', error);

                    // Reset button
                    submitButton.textContent = originalButtonText;
                    submitButton.disabled = false;

                    // Show error modal
                    showErrorModal();
                }
            });
        });

        // Success and Error Modal Functions
        function showSuccessModal(formType) {
            const modal = document.getElementById('successModal');
            const formTypeElement = document.getElementById('successFormType');
            formTypeElement.textContent = formType;
            modal.style.display = 'flex';
        }

        function showErrorModal() {
            const modal = document.getElementById('errorModal');
            modal.style.display = 'flex';
        }

        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            modal.style.display = 'none';
        }

        // Close modal when clicking outside
        window.addEventListener('click', function(event) {
            if (event.target.classList.contains('modal')) {
                event.target.style.display = 'none';
            }
        });

        // Load saved data for the initial section (inbound)
        window.addEventListener('DOMContentLoaded', function() {
            loadFormData('inbound');
        });
    </script>

    <!-- Success Modal -->
    <div id="successModal" class="modal">
        <div class="modal-content success">
            <div class="modal-icon">✓</div>
            <h2>Thank You!</h2>
            <p>Your <strong id="successFormType"></strong> questionnaire has been submitted successfully.</p>
            <p style="margin-top: 10px;">We will review your responses and get back to you shortly.</p>
            <button onclick="closeModal('successModal')" class="modal-button">Close</button>
        </div>
    </div>

    <!-- Error Modal -->
    <div id="errorModal" class="modal">
        <div class="modal-content error">
            <div class="modal-icon">✕</div>
            <h2>Submission Error</h2>
            <p>There was an error submitting your form. Please try again.</p>
            <p style="margin-top: 10px;">If the problem persists, contact us directly at <strong>sheikhshessi@gmail.com</strong></p>
            <button onclick="closeModal('errorModal')" class="modal-button">Close</button>
        </div>
    </div>

    <div class="autosave-indicator" id="autosaveIndicator" aria-live="polite">Saved</div>
</body>
</html>