<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kalalou Hero</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-primary: #F7F4EF;
            --ink: #1C1C1C;
            --secondary: #6F6F6F;
            --accent: #B46A4C;
            --divider: #DDD8D0;
            --card: #FFFFFF;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-primary);
            color: var(--ink);
            line-height: 1.8;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
        }

        /* Hero Section */
        .hero {
            position: relative;
            width: 100%;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 60px;
            text-align: center;
            overflow: hidden;
        }

        .hero-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            display: block;
            background: var(--bg-primary);
        }

        .hero-carousel {
            position: relative;
            width: 100%;
            max-width: 800px;
            z-index: 10;
        }

        .hero-slides {
            display: flex;
            transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .hero-slide {
            min-width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding-bottom: 100px;
        }

        .hero h1 {
            font-family: 'Playfair Display', serif;
            font-size: clamp(3.5rem, 7vw, 6rem);
            font-weight: 400;
            letter-spacing: -0.02em;
            margin-bottom: 32px;
            line-height: 1.1;
            color: var(--ink);
        }

        .hero-subtext {
            font-size: 1.1rem;
            color: var(--secondary);
            font-weight: 400;
            margin-bottom: 60px;
            max-width: 500px;
            letter-spacing: 0.01em;
        }

        .hero-divider {
            width: 60px;
            height: 1px;
            background: var(--divider);
            margin: 0 auto;
        }

        /* Carousel Navigation */
        .carousel-nav {
            position: absolute;
            bottom: 60px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 16px;
            z-index: 10;
        }

        .carousel-button {
            width: 48px;
            height: 48px;
            background: var(--card);
            border: 1px solid var(--divider);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 20px;
            color: var(--ink);
        }

        .carousel-button:hover {
            background: var(--ink);
            color: var(--card);
            transform: scale(1.05);
        }

        .carousel-dots {
            position: absolute;
            bottom: 140px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 12px;
        }

        .carousel-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--divider);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .carousel-dot.active {
            background: var(--accent);
            width: 24px;
            border-radius: 4px;
        }

        /* Scroll Down Button */
        .scroll-down-container {
            position: absolute;
            bottom: 60px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 10;
        }

        @keyframes bounce {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-10px);
            }
        }

        .scroll-down-button {
            width: 56px;
            height: 56px;
            background: var(--card);
            border: 1px solid var(--divider);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            color: var(--ink);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            animation: bounce 2s ease-in-out infinite;
        }

        .scroll-down-button:hover {
            background: var(--ink);
            color: var(--card);
            transform: translateY(4px) scale(1.05);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
            animation: none;
        }

        .scroll-down-button svg {
            width: 24px;
            height: 24px;
        }

        /* Artwork Slide */
        .artwork-slide {
            padding: 40px;
        }

        .artwork-image {
            max-width: 900px;
            width: 100%;
            height: auto;
            border-radius: 8px;
            box-shadow: 0 4px 24px rgba(0, 0, 0, 0.08);
        }

        @media (max-width: 768px) {
            .hero {
                padding: 40px 30px;
            }
        }

        /* Form Section */
        .form-section {
            position: relative;
            width: 100%;
            background: var(--bg-primary);
            padding: 80px 60px;
            z-index: 10;
            overflow: hidden;
        }

        .form-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            display: block;
            background: var(--bg-primary);
        }

        .form-container {
            max-width: 1000px;
            margin: 0 auto;
            position: relative;
            z-index: 10;
        }

        .form-section-title {
            font-family: 'Playfair Display', serif;
            font-size: clamp(2rem, 4vw, 3rem);
            font-weight: 400;
            color: var(--ink);
            margin-bottom: 12px;
            letter-spacing: -0.02em;
        }

        .form-section-subtitle {
            font-size: 1.1rem;
            color: var(--secondary);
            margin-bottom: 50px;
            font-weight: 400;
        }

        .form-card {
            background: var(--card);
            border-radius: 12px;
            padding: 50px;
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.08);
            margin-bottom: 60px;
        }

        .question-group {
            margin-bottom: 40px;
        }

        .question-label {
            display: block;
            font-weight: 500;
            color: var(--ink);
            margin-bottom: 16px;
            font-size: 1.05rem;
            line-height: 1.6;
        }

        .question-helper {
            font-size: 0.9rem;
            color: var(--secondary);
            margin-top: 8px;
            font-style: italic;
        }

        input[type="text"],
        input[type="email"],
        input[type="tel"],
        input[type="number"],
        textarea {
            width: 100%;
            padding: 14px 18px;
            border: 1px solid var(--divider);
            border-radius: 8px;
            font-family: 'Inter', sans-serif;
            font-size: 1rem;
            background: var(--bg-primary);
            color: var(--ink);
            transition: all 0.3s ease;
        }

        input:focus,
        textarea:focus {
            outline: none;
            border-color: var(--accent);
            background: white;
            box-shadow: 0 0 0 3px rgba(180, 106, 76, 0.1);
        }

        textarea {
            min-height: 120px;
            resize: vertical;
        }

        .radio-group,
        .checkbox-group {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-top: 12px;
        }

        .radio-option,
        .checkbox-option {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            border-radius: 8px;
            transition: background 0.2s ease;
        }

        .radio-option:hover,
        .checkbox-option:hover {
            background: rgba(180, 106, 76, 0.05);
        }

        input[type="radio"],
        input[type="checkbox"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
            accent-color: var(--accent);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 16px;
            background: var(--card);
            border-radius: 8px;
            overflow: hidden;
        }

        th, td {
            padding: 16px;
            text-align: left;
            border-bottom: 1px solid var(--divider);
        }

        th {
            background: var(--bg-primary);
            font-weight: 600;
            color: var(--ink);
            font-size: 0.95rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        td input[type="number"],
        td input[type="text"] {
            width: 100%;
            min-width: 80px;
            padding: 10px 12px;
            margin: 0;
        }

        .priority-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 16px;
        }

        .priority-table th,
        .priority-table td {
            padding: 14px;
            text-align: center;
            border: 1px solid var(--divider);
        }

        .priority-table th {
            background: var(--bg-primary);
            font-weight: 600;
            font-size: 0.9rem;
        }

        .priority-table td {
            background: var(--card);
        }

        .priority-table input[type="radio"] {
            margin: 0 auto;
        }

        .submit-button {
            width: 100%;
            padding: 18px 40px;
            background: var(--accent);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 40px;
            font-family: 'Inter', sans-serif;
        }

        .submit-button:hover {
            background: #9d5a3f;
            transform: translateY(-2px);
            box-shadow: 0 6px 24px rgba(180, 106, 76, 0.3);
        }

        .note {
            background: rgba(180, 106, 76, 0.1);
            padding: 18px;
            border-radius: 8px;
            border-left: 4px solid var(--accent);
            margin: 30px 0;
            font-size: 0.95rem;
            color: var(--secondary);
            line-height: 1.6;
        }

        .section-divider {
            height: 1px;
            background: var(--divider);
            margin: 60px 0;
        }

        .autosave-indicator {
            position: fixed;
            right: 16px;
            bottom: 16px;
            background: var(--card);
            border: 1px solid var(--divider);
            border-radius: 999px;
            padding: 10px 14px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.10);
            color: var(--secondary);
            font-size: 0.95rem;
            opacity: 0;
            transform: translateY(8px);
            transition: opacity 0.18s ease, transform 0.18s ease;
            z-index: 1000;
            pointer-events: none;
        }

        .autosave-indicator.show {
            opacity: 1;
            transform: translateY(0);
        }

        @media (max-width: 768px) {
            .form-section {
                padding: 60px 30px;
            }

            .form-card {
                padding: 30px 25px;
            }

            table {
                font-size: 0.9rem;
            }

            th, td {
                padding: 12px 8px;
            }
        }
    </style>
</head>
<body>
    <!-- Hero -->
    <section class="hero">
        <canvas class="hero-canvas" id="heroCanvas"></canvas>
        <div class="hero-carousel">
            <div class="hero-slides" id="heroSlides">
                <!-- Slide 1: Main Title -->
                <div class="hero-slide">
                    <h1>KALALOU AI LEVERAGE</h1>
                    <p class="hero-subtext">Lets unlock it!</p>
                    <div class="hero-divider"></div>
                </div>
            </div>

            <!-- Scroll Down Button -->
            <div class="scroll-down-container">
                <button class="scroll-down-button" id="scrollDownButton" aria-label="Scroll to form">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M6 9l6 6 6-6"/>
                    </svg>
                </button>
            </div>
        </div>
    </section>

    <!-- Form Section -->
    <section class="form-section">
        <canvas class="form-canvas" id="formCanvas"></canvas>
        <div class="form-container">
            <form id="mainForm">
                <div class="note">
                    Your progress is saved automatically as you type. You can close this page and come back anytime.
                </div>

                <!-- INBOUND AI SECTION -->
                <div class="form-card">
                    <h2 class="form-section-title">INBOUND SYSTEM</h2>
                    <p class="form-section-subtitle">AI takes all the calls while your team focus on adding more clients</p>
                    
                    <div class="question-group">
                        <label class="question-label">Current inbound call volume (approximately):<br>How many inbound calls do you receive per month?</label>
                        <div class="radio-group">
                            <label class="radio-option"><input type="radio" name="inbound_calls_range" value="500-1000">500-1,000</label>
                            <label class="radio-option"><input type="radio" name="inbound_calls_range" value="1000-1500">1,000-1,500</label>
                            <label class="radio-option"><input type="radio" name="inbound_calls_range" value="1500-2500">1,500-2,500</label>
                            <label class="radio-option"><input type="radio" name="inbound_calls_range" value="2500+">2,500+</label>
                            <label class="radio-option"><input type="radio" name="inbound_calls_range" value="not_sure">Not sure (we'll help you track this)</label>
                        </div>
                        <div class="question-helper">If you have data, exact number:</div>
                        <input type="number" name="inbound_calls_exact" placeholder="calls/month" min="0">
                    </div>

                    <div class="question-group">
                        <label class="question-label">Caller breakdown (estimate %):<br>Who is calling us at Kalalou</label>
                        <table>
                            <tr><th>Caller Type</th><th>Percentage</th></tr>
                            <tr><td>Existing customers</td><td><input type="number" name="caller_existing_pct" min="0" max="100" placeholder="%"></td></tr>
                            <tr><td>New prospects</td><td><input type="number" name="caller_new_pct" min="0" max="100" placeholder="%"></td></tr>
                            <tr><td>Vendors/suppliers</td><td><input type="number" name="caller_vendors_pct" min="0" max="100" placeholder="%"></td></tr>
                            <tr><td>Other</td><td><input type="number" name="caller_other_pct" min="0" max="100" placeholder="%"></td></tr>
                        </table>
                    </div>

                    <div class="question-group">
                        <label class="question-label">What are customers calling about?<br>Rank the top call types (1 = most common, 10 = least common) and estimate percentage:</label>
                        <div class="question-helper">Note: Percentages don't need to add to 100% - rough estimates are fine.</div>
                        <table>
                            <tr><th>Call Type</th><th>Rank (1-10)</th><th>% of Total</th></tr>
                            <tr><td>Product information/specifications</td><td><input type="number" name="call_type_product_rank" min="1" max="10"></td><td><input type="number" name="call_type_product_pct" min="0" max="100" placeholder="%"></td></tr>
                            <tr><td>Pricing inquiries</td><td><input type="number" name="call_type_pricing_rank" min="1" max="10"></td><td><input type="number" name="call_type_pricing_pct" min="0" max="100" placeholder="%"></td></tr>
                            <tr><td>Order status/tracking</td><td><input type="number" name="call_type_order_status_rank" min="1" max="10"></td><td><input type="number" name="call_type_order_status_pct" min="0" max="100" placeholder="%"></td></tr>
                            <tr><td>Inventory availability ("Do you have X in stock?")</td><td><input type="number" name="call_type_inventory_rank" min="1" max="10"></td><td><input type="number" name="call_type_inventory_pct" min="0" max="100" placeholder="%"></td></tr>
                            <tr><td>Account questions (login, payment terms, etc.)</td><td><input type="number" name="call_type_account_rank" min="1" max="10"></td><td><input type="number" name="call_type_account_pct" min="0" max="100" placeholder="%"></td></tr>
                            <tr><td>New customer inquiry (requesting catalog)</td><td><input type="number" name="call_type_new_customer_rank" min="1" max="10"></td><td><input type="number" name="call_type_new_customer_pct" min="0" max="100" placeholder="%"></td></tr>
                            <tr><td>Placing an order</td><td><input type="number" name="call_type_placing_order_rank" min="1" max="10"></td><td><input type="number" name="call_type_placing_order_pct" min="0" max="100" placeholder="%"></td></tr>
                            <tr><td>Returns/complaints/issues</td><td><input type="number" name="call_type_returns_rank" min="1" max="10"></td><td><input type="number" name="call_type_returns_pct" min="0" max="100" placeholder="%"></td></tr>
                            <tr><td>Shipping information</td><td><input type="number" name="call_type_shipping_rank" min="1" max="10"></td><td><input type="number" name="call_type_shipping_pct" min="0" max="100" placeholder="%"></td></tr>
                            <tr>
                                <td>Other: <input type="text" name="call_type_other_label" placeholder="Describe..." style="width: 200px; display: inline-block; margin-left: 8px;"></td>
                                <td><input type="number" name="call_type_other_rank" min="1" max="10"></td>
                                <td><input type="number" name="call_type_other_pct" min="0" max="100" placeholder="%"></td>
                            </tr>
                        </table>
                    </div>

                    <div class="question-group">
                        <label class="question-label">Information requirements:<br>What percentage of calls can be answered with general product knowledge (no customer-specific data needed)?<br><span style="font-size: 0.9rem; font-weight: normal; color: var(--secondary);">Example: "What materials is this basket made from?" vs. "What's the status of MY order?"</span></label>
                        <div class="radio-group">
                            <label class="radio-option"><input type="radio" name="general_knowledge_pct" value="0-25">0-25% (most calls need account lookup)</label>
                            <label class="radio-option"><input type="radio" name="general_knowledge_pct" value="25-50">25-50%</label>
                            <label class="radio-option"><input type="radio" name="general_knowledge_pct" value="50-75">50-75%</label>
                            <label class="radio-option"><input type="radio" name="general_knowledge_pct" value="75-100">75-100% (most are general questions)</label>
                        </div>
                    </div>

                    <div class="question-group">
                        <label class="question-label">Customer-specific lookups:<br>What percentage of calls require looking up customer-specific information (order history, account status, tracking, etc.)?</label>
                        <div class="radio-group">
                            <label class="radio-option"><input type="radio" name="customer_lookup_pct" value="0-25">0-25%</label>
                            <label class="radio-option"><input type="radio" name="customer_lookup_pct" value="25-50">25-50%</label>
                            <label class="radio-option"><input type="radio" name="customer_lookup_pct" value="50-75">50-75%</label>
                            <label class="radio-option"><input type="radio" name="customer_lookup_pct" value="75-100">75-100%</label>
                        </div>
                    </div>

                    <div class="question-group">
                        <label class="question-label">Order taking - should AI handle this?<br>What level of order-taking capability do you need?</label>
                        <table class="priority-table">
                            <tr><th>Capability</th><th>✅</th><th>⭐</th><th>❌</th></tr>
                            <tr>
                                <td style="text-align: left;">Take simple repeat orders (customer knows item numbers)</td>
                                <td><input type="radio" name="order_repeat" value="must"></td>
                                <td><input type="radio" name="order_repeat" value="nice"></td>
                                <td><input type="radio" name="order_repeat" value="no"></td>
                            </tr>
                            <tr>
                                <td style="text-align: left;">Take new orders (customer browsing, asking questions)</td>
                                <td><input type="radio" name="order_new" value="must"></td>
                                <td><input type="radio" name="order_new" value="nice"></td>
                                <td><input type="radio" name="order_new" value="no"></td>
                            </tr>
                            <tr>
                                <td style="text-align: left;">Collect order details and email to sales team</td>
                                <td><input type="radio" name="order_email" value="must"></td>
                                <td><input type="radio" name="order_email" value="nice"></td>
                                <td><input type="radio" name="order_email" value="no"></td>
                            </tr>
                            <tr>
                                <td style="text-align: left;">Don't take orders at all (transfer to sales)</td>
                                <td><input type="radio" name="order_transfer" value="must"></td>
                                <td><input type="radio" name="order_transfer" value="nice"></td>
                                <td><input type="radio" name="order_transfer" value="no"></td>
                            </tr>
                        </table>
                        <div class="question-helper" style="margin-top: 12px;">Your preferred approach:</div>
                        <input type="text" name="order_preferred_approach" placeholder="Describe your ideal order-taking approach...">
                    </div>

                    <div class="question-group">
                        <label class="question-label">Inventory checking:<br>Should AI be able to check real-time inventory/stock levels?</label>
                        <div class="radio-group">
                            <label class="radio-option"><input type="radio" name="inventory_checking" value="must">✅ MUST-HAVE - Customers ask this constantly, critical feature</label>
                            <label class="radio-option"><input type="radio" name="inventory_checking" value="nice">⭐ NICE-TO-HAVE - Would be helpful but not critical</label>
                            <label class="radio-option"><input type="radio" name="inventory_checking" value="no">❌ NOT NEEDED - We'll handle this manually/transfer to team</label>
                        </div>
                    </div>

                    <div class="question-group">
                        <label class="question-label">Order status lookup:<br>Should AI be able to look up order status and tracking information?</label>
                        <div class="radio-group">
                            <label class="radio-option"><input type="radio" name="order_status_lookup" value="must">✅ MUST-HAVE - Very common question, need this</label>
                            <label class="radio-option"><input type="radio" name="order_status_lookup" value="nice">⭐ NICE-TO-HAVE - Would reduce call transfers</label>
                            <label class="radio-option"><input type="radio" name="order_status_lookup" value="no">❌ NOT NEEDED - Transfer these calls to our team</label>
                        </div>
                    </div>

                    <div class="question-group">
                        <label class="question-label">System integrations:<br>Mark priority for each integration:</label>
                        <table class="priority-table">
                            <tr><th>System Integration</th><th>✅</th><th>⭐</th><th>❌</th></tr>
                            <tr>
                                <td style="text-align: left;">NetSuite - Read customer data (account info, contact details)</td>
                                <td><input type="radio" name="integration_netsuite_customer" value="must"></td>
                                <td><input type="radio" name="integration_netsuite_customer" value="nice"></td>
                                <td><input type="radio" name="integration_netsuite_customer" value="no"></td>
                            </tr>
                            <tr>
                                <td style="text-align: left;">NetSuite - Read order history (past purchases, dates)</td>
                                <td><input type="radio" name="integration_netsuite_history" value="must"></td>
                                <td><input type="radio" name="integration_netsuite_history" value="nice"></td>
                                <td><input type="radio" name="integration_netsuite_history" value="no"></td>
                            </tr>
                            <tr>
                                <td style="text-align: left;">NetSuite - Check inventory levels (real-time stock)</td>
                                <td><input type="radio" name="integration_netsuite_inventory" value="must"></td>
                                <td><input type="radio" name="integration_netsuite_inventory" value="nice"></td>
                                <td><input type="radio" name="integration_netsuite_inventory" value="no"></td>
                            </tr>
                            <tr>
                                <td style="text-align: left;">NetSuite - Create new orders (AI places order in system)</td>
                                <td><input type="radio" name="integration_netsuite_create" value="must"></td>
                                <td><input type="radio" name="integration_netsuite_create" value="nice"></td>
                                <td><input type="radio" name="integration_netsuite_create" value="no"></td>
                            </tr>
                            <tr>
                                <td style="text-align: left;">Magento - Product catalog/information</td>
                                <td><input type="radio" name="integration_magento_catalog" value="must"></td>
                                <td><input type="radio" name="integration_magento_catalog" value="nice"></td>
                                <td><input type="radio" name="integration_magento_catalog" value="no"></td>
                            </tr>
                            <tr>
                                <td style="text-align: left;">Magento - Pricing information (wholesale tiers)</td>
                                <td><input type="radio" name="integration_magento_pricing" value="must"></td>
                                <td><input type="radio" name="integration_magento_pricing" value="nice"></td>
                                <td><input type="radio" name="integration_magento_pricing" value="no"></td>
                            </tr>
                            <tr>
                                <td style="text-align: left;">Email system - Send confirmations/follow-ups</td>
                                <td><input type="radio" name="integration_email" value="must"></td>
                                <td><input type="radio" name="integration_email" value="nice"></td>
                                <td><input type="radio" name="integration_email" value="no"></td>
                            </tr>
                            <tr>
                                <td style="text-align: left;">Calendar system - Schedule callbacks (Google/Outlook)</td>
                                <td><input type="radio" name="integration_calendar" value="must"></td>
                                <td><input type="radio" name="integration_calendar" value="nice"></td>
                                <td><input type="radio" name="integration_calendar" value="no"></td>
                            </tr>
                            <tr>
                                <td style="text-align: left;">Other: <input type="text" name="integration_other_label" placeholder="System name..." style="width: 200px; display: inline-block; margin-left: 8px;"></td>
                                <td><input type="radio" name="integration_other" value="must"></td>
                                <td><input type="radio" name="integration_other" value="nice"></td>
                                <td><input type="radio" name="integration_other" value="no"></td>
                            </tr>
                        </table>
                        <div class="question-helper" style="margin-top: 12px;">
                            <strong>Legend:</strong><br>
                            ✅ = Must-Have (critical for system to work)<br>
                            ⭐ = Nice-to-Have (valuable but not essential)<br>
                            ❌ = Not Needed (skip this integration)
                        </div>
                    </div>

                    <div class="question-group">
                        <label class="question-label">Call recordings:<br>Do you want recordings of customer calls?</label>
                        <div class="radio-group">
                            <label class="radio-option"><input type="radio" name="call_recordings" value="all">Yes, record all calls</label>
                            <label class="radio-option"><input type="radio" name="call_recordings" value="transfers_only">Only record calls that transfer to humans</label>
                            <label class="radio-option"><input type="radio" name="call_recordings" value="flagged_only">Only record flagged calls (complaints, issues)</label>
                            <label class="radio-option"><input type="radio" name="call_recordings" value="none">No recordings (just AI-generated summaries/transcripts)</label>
                        </div>
                        <div class="question-helper" style="margin-top: 16px;">Storage preference:</div>
                        <div class="radio-group">
                            <label class="radio-option"><input type="radio" name="recording_storage" value="30_days">Store recordings for 30 days</label>
                            <label class="radio-option"><input type="radio" name="recording_storage" value="90_days">Store recordings for 90 days</label>
                            <label class="radio-option"><input type="radio" name="recording_storage" value="1_year">Store recordings for 1 year</label>
                            <label class="radio-option"><input type="radio" name="recording_storage" value="other">Other</label>
                        </div>
                        <input type="text" name="recording_storage_other" placeholder="If other, specify..." style="margin-top: 12px;">
                    </div>

                    <div class="question-group">
                        <label class="question-label">Special requirements:<br>Any special requirements, concerns, or considerations we should know about?</label>
                        <textarea name="special_requirements" placeholder="Share anything important for us to know..."></textarea>
                    </div>

                    <div class="question-group">
                        <label class="question-label">Questions for us:<br>Any questions about the inbound AI system you'd like us to address on our call?</label>
                        <textarea name="questions_for_us" placeholder="Write your questions here..."></textarea>
                    </div>
                </div>

                <!-- OUTBOUND AI SYSTEM SECTION -->
                <div class="form-card">
                    <h2 class="form-section-title">OUTBOUND AI SYSTEM – LET'S UNLOCK LEVERAGE!</h2>
                    
                    <div class="question-group">
                        <label class="question-label">Primary objective:<br>What's the main goal of outbound calling? (Rank 1-4, with 1 = highest priority)</label>
                        <table>
                            <tr><th>Goal</th><th>Rank</th></tr>
                            <tr><td>Book meetings with sales team for new prospects</td><td><input type="number" name="outbound_goal_meetings_rank" min="1" max="4"></td></tr>
                            <tr><td>Send catalogs to engaged prospects</td><td><input type="number" name="outbound_goal_catalogs_rank" min="1" max="4"></td></tr>
                            <tr><td>Maintain relationships with existing customers</td><td><input type="number" name="outbound_goal_relationships_rank" min="1" max="4"></td></tr>
                            <tr><td>Reactivate dormant customers (haven't ordered in 6+ months)</td><td><input type="number" name="outbound_goal_reactivate_rank" min="1" max="4"></td></tr>
                        </table>
                    </div>

                    <div class="question-group">
                        <label class="question-label">Target call volume:<br>How many outbound calls per month do you want the AI to make?<br><span style="font-size: 0.9rem; font-weight: normal; color: var(--secondary);">(Give us a number to start, we can always scale this)</span></label>
                        <div class="radio-group">
                            <label class="radio-option"><input type="radio" name="outbound_target_volume" value="100-300">100-300 calls/month</label>
                            <label class="radio-option"><input type="radio" name="outbound_target_volume" value="300-500">300-500 calls/month</label>
                            <label class="radio-option"><input type="radio" name="outbound_target_volume" value="500-1000">500-1,000 calls/month</label>
                            <label class="radio-option"><input type="radio" name="outbound_target_volume" value="1000-2000">1,000-2,000 calls/month</label>
                            <label class="radio-option"><input type="radio" name="outbound_target_volume" value="2000+">2,000+ calls/month</label>
                            <label class="radio-option"><input type="radio" name="outbound_target_volume" value="start_small">Start small and scale based on results</label>
                        </div>
                        <div class="question-helper">Target number (if you have one):</div>
                        <input type="number" name="outbound_target_exact" placeholder="calls/month" min="0">
                    </div>

                    <div class="question-group">
                        <label class="question-label">Current outbound activity:<br>How many outbound calls does your team currently make per month?</label>
                        <div class="radio-group">
                            <label class="radio-option"><input type="radio" name="outbound_current_volume" value="0-100">0-100 (very little outbound)</label>
                            <label class="radio-option"><input type="radio" name="outbound_current_volume" value="100-300">100-300</label>
                            <label class="radio-option"><input type="radio" name="outbound_current_volume" value="300-500">300-500</label>
                            <label class="radio-option"><input type="radio" name="outbound_current_volume" value="500-1000">500-1,000</label>
                            <label class="radio-option"><input type="radio" name="outbound_current_volume" value="none">We don't do systematic outbound calling currently</label>
                        </div>
                    </div>

                    <div class="question-group">
                        <label class="question-label">Who should the AI call?<br>Mark which groups you want to target:</label>
                        <table>
                            <tr><th>Target Audience</th><th>Call Them?</th><th>Est. Volume/Month</th></tr>
                            <tr>
                                <td>New prospects (from Lead Gen System we make)</td>
                                <td>
                                    <div style="display: flex; gap: 8px; justify-content: center;">
                                        <label style="cursor: pointer;"><input type="radio" name="target_new_prospects" value="yes" style="margin: 0 4px;">✅</label>
                                        <label style="cursor: pointer;"><input type="radio" name="target_new_prospects" value="priority" style="margin: 0 4px;">⭐</label>
                                        <label style="cursor: pointer;"><input type="radio" name="target_new_prospects" value="no" style="margin: 0 4px;">❌</label>
                                    </div>
                                </td>
                                <td><input type="number" name="target_new_prospects_volume" placeholder="calls" min="0"></td>
                            </tr>
                            <tr>
                                <td>Existing customers (relationship check-ins)</td>
                                <td>
                                    <div style="display: flex; gap: 8px; justify-content: center;">
                                        <label style="cursor: pointer;"><input type="radio" name="target_existing_customers" value="yes" style="margin: 0 4px;">✅</label>
                                        <label style="cursor: pointer;"><input type="radio" name="target_existing_customers" value="priority" style="margin: 0 4px;">⭐</label>
                                        <label style="cursor: pointer;"><input type="radio" name="target_existing_customers" value="no" style="margin: 0 4px;">❌</label>
                                    </div>
                                </td>
                                <td><input type="number" name="target_existing_customers_volume" placeholder="calls" min="0"></td>
                            </tr>
                            <tr>
                                <td>Dormant customers (no order in 6+ months)</td>
                                <td>
                                    <div style="display: flex; gap: 8px; justify-content: center;">
                                        <label style="cursor: pointer;"><input type="radio" name="target_dormant" value="yes" style="margin: 0 4px;">✅</label>
                                        <label style="cursor: pointer;"><input type="radio" name="target_dormant" value="priority" style="margin: 0 4px;">⭐</label>
                                        <label style="cursor: pointer;"><input type="radio" name="target_dormant" value="no" style="margin: 0 4px;">❌</label>
                                    </div>
                                </td>
                                <td><input type="number" name="target_dormant_volume" placeholder="calls" min="0"></td>
                            </tr>
                            <tr>
                                <td>Trade show leads</td>
                                <td>
                                    <div style="display: flex; gap: 8px; justify-content: center;">
                                        <label style="cursor: pointer;"><input type="radio" name="target_trade_show" value="yes" style="margin: 0 4px;">✅</label>
                                        <label style="cursor: pointer;"><input type="radio" name="target_trade_show" value="priority" style="margin: 0 4px;">⭐</label>
                                        <label style="cursor: pointer;"><input type="radio" name="target_trade_show" value="no" style="margin: 0 4px;">❌</label>
                                    </div>
                                </td>
                                <td><input type="number" name="target_trade_show_volume" placeholder="calls" min="0"></td>
                            </tr>
                            <tr>
                                <td>Referrals</td>
                                <td>
                                    <div style="display: flex; gap: 8px; justify-content: center;">
                                        <label style="cursor: pointer;"><input type="radio" name="target_referrals" value="yes" style="margin: 0 4px;">✅</label>
                                        <label style="cursor: pointer;"><input type="radio" name="target_referrals" value="priority" style="margin: 0 4px;">⭐</label>
                                        <label style="cursor: pointer;"><input type="radio" name="target_referrals" value="no" style="margin: 0 4px;">❌</label>
                                    </div>
                                </td>
                                <td><input type="number" name="target_referrals_volume" placeholder="calls" min="0"></td>
                            </tr>
                            <tr>
                                <td>Other: <input type="text" name="target_other_label" placeholder="Specify..." style="width: 200px; display: inline-block; margin-left: 8px;"></td>
                                <td>
                                    <div style="display: flex; gap: 8px; justify-content: center;">
                                        <label style="cursor: pointer;"><input type="radio" name="target_other" value="yes" style="margin: 0 4px;">✅</label>
                                        <label style="cursor: pointer;"><input type="radio" name="target_other" value="priority" style="margin: 0 4px;">⭐</label>
                                        <label style="cursor: pointer;"><input type="radio" name="target_other" value="no" style="margin: 0 4px;">❌</label>
                                    </div>
                                </td>
                                <td><input type="number" name="target_other_volume" placeholder="calls" min="0"></td>
                            </tr>
                        </table>
                    </div>

                    <div class="question-group">
                        <label class="question-label">Calling strategy:<br>Which prospects should AI call?</label>
                        <div class="radio-group">
                            <label class="radio-option"><input type="radio" name="calling_strategy" value="warm_only">Only warm leads - opened email, clicked link, or engaged with content</label>
                            <label class="radio-option"><input type="radio" name="calling_strategy" value="all_database">All prospects in database - relationship maintenance approach</label>
                            <label class="radio-option"><input type="radio" name="calling_strategy" value="mixed">Mixed approach - warm leads only for new prospects, all existing customers</label>
                            <label class="radio-option"><input type="radio" name="calling_strategy" value="discuss">Let's discuss compliance and best approach on our call</label>
                        </div>
                    </div>

                    <div class="question-group">
                        <label class="question-label">What counts as a successful call?<br>What's your primary desired outcome? (Pick ONE)</label>
                        <div class="radio-group">
                            <label class="radio-option"><input type="radio" name="success_outcome" value="catalog">A. Customer agrees to receive catalog (email or mail)</label>
                            <label class="radio-option"><input type="radio" name="success_outcome" value="meeting">B. Customer books a meeting with your sales team</label>
                            <label class="radio-option"><input type="radio" name="success_outcome" value="order">C. Customer places an order on the spot</label>
                            <label class="radio-option"><input type="radio" name="success_outcome" value="qualifying">D. Customer provides feedback/information (qualifying)</label>
                            <label class="radio-option"><input type="radio" name="success_outcome" value="other">E. Other: <input type="text" name="success_outcome_other" placeholder="Specify..." style="width: 300px; display: inline-block; margin-left: 8px;"></label>
                        </div>
                    </div>

                    <div class="question-group">
                        <label class="question-label">When customer asks to transfer call, how should AI distribute?<br><span style="font-size: 0.9rem; font-weight: normal; color: var(--secondary);">(In our meeting Doug wanted to do round robin, where anyone available can pick the call)</span></label>
                        <div class="question-helper">Distribution method:</div>
                        <div class="radio-group">
                            <label class="radio-option"><input type="radio" name="transfer_distribution" value="round_robin">Round-robin (distribute evenly across team)</label>
                            <label class="radio-option"><input type="radio" name="transfer_distribution" value="one_person">All meetings to one person: <input type="text" name="transfer_one_person" placeholder="Name" style="width: 200px; display: inline-block; margin-left: 8px;"></label>
                            <label class="radio-option"><input type="radio" name="transfer_distribution" value="geography">Based on geography/territory</label>
                            <label class="radio-option"><input type="radio" name="transfer_distribution" value="prospect_type">Based on prospect type (new vs. existing)</label>
                            <label class="radio-option"><input type="radio" name="transfer_distribution" value="no_booking">AI doesn't book meetings (just collects information)</label>
                        </div>
                    </div>

                    <div class="question-group">
                        <label class="question-label">Voicemail handling:<br>What should AI do if it reaches voicemail?</label>
                        <div class="radio-group">
                            <label class="radio-option"><input type="radio" name="voicemail_action" value="leave_message">Option A: Leave a brief message with callback number</label>
                            <label class="radio-option"><input type="radio" name="voicemail_action" value="email">Option B: Hang up and send follow-up email instead</label>
                            <label class="radio-option"><input type="radio" name="voicemail_action" value="retry">Option C: Hang up and retry later (2-3 attempts max)</label>
                            <label class="radio-option"><input type="radio" name="voicemail_action" value="combination">Option D: Combination approach (specify): <input type="text" name="voicemail_combination" placeholder="Describe..." style="width: 250px; display: inline-block; margin-left: 8px;"></label>
                            <label class="radio-option"><input type="radio" name="voicemail_action" value="other">Option E: Other: <input type="text" name="voicemail_other" placeholder="Specify..." style="width: 250px; display: inline-block; margin-left: 8px;"></label>
                        </div>
                    </div>

                    <div class="question-group">
                        <label class="question-label">Additional notes:<br>Anything else we should know about your outbound calling strategy?</label>
                        <textarea name="outbound_additional_notes" placeholder="Share any additional information..."></textarea>
                    </div>
                </div>

                <!-- LEAD GENERATION SYSTEM SECTION -->
                <div class="form-card">
                    <h2 class="form-section-title">LEAD GENERATION SYSTEM - THE VERY HEART OF OUTBOUND!</h2>
                    
                    <div class="question-group">
                        <label class="question-label">Target store types:<br>What types of retailers should we find? (Check all that apply)</label>
                        <div class="checkbox-group">
                            <label class="checkbox-option"><input type="checkbox" name="store_types[]" value="independent_gift">Independent gift shops</label>
                            <label class="checkbox-option"><input type="checkbox" name="store_types[]" value="home_decor">Home decor boutiques</label>
                            <label class="checkbox-option"><input type="checkbox" name="store_types[]" value="garden_centers">Garden centers with gift/decor sections</label>
                            <label class="checkbox-option"><input type="checkbox" name="store_types[]" value="furniture_stores">Furniture stores with home accessories</label>
                            <label class="checkbox-option"><input type="checkbox" name="store_types[]" value="specialty_stores">Specialty stores (coastal, farmhouse, boho, etc.)</label>
                            <label class="checkbox-option"><input type="checkbox" name="store_types[]" value="department_stores">Department stores (gift/home decor sections)</label>
                            <label class="checkbox-option"><input type="checkbox" name="store_types[]" value="lifestyle_stores">Lifestyle stores (mix of apparel, gifts, home)</label>
                            <label class="checkbox-option"><input type="checkbox" name="store_types[]" value="museum_gift">Museum/gallery gift shops</label>
                            <label class="checkbox-option"><input type="checkbox" name="store_types[]" value="hotel_gift">Hotel/resort gift shops</label>
                            <label class="checkbox-option"><input type="checkbox" name="store_types[]" value="other">Other: <input type="text" name="store_types_other" placeholder="Specify..." style="width: 250px; display: inline-block; margin-left: 8px;"></label>
                        </div>
                    </div>

                    <div class="question-group">
                        <label class="question-label">Store size preference:<br>What annual revenue range works best for you?</label>
                        <div class="radio-group">
                            <label class="radio-option"><input type="radio" name="store_size" value="250k-500k">$250K-$500K (very small boutiques)</label>
                            <label class="radio-option"><input type="radio" name="store_size" value="500k-1m">$500K-$1M (small independent shops)</label>
                            <label class="radio-option"><input type="radio" name="store_size" value="1m-2m">$1M-$2M (established independent stores)</label>
                            <label class="radio-option"><input type="radio" name="store_size" value="2m-5m">$2M-$5M (larger stores/small chains)</label>
                            <label class="radio-option"><input type="radio" name="store_size" value="5m-10m">$5M-$10M (regional chains)</label>
                            <label class="radio-option"><input type="radio" name="store_size" value="10m+">$10M+ (larger chains)</label>
                            <label class="radio-option"><input type="radio" name="store_size" value="all_sizes">All sizes welcome</label>
                            <label class="radio-option"><input type="radio" name="store_size" value="sweet_spot">Sweet spot: $<input type="number" name="store_size_min" placeholder="min" min="0" style="width: 120px; display: inline-block; margin: 0 8px;"> to $<input type="number" name="store_size_max" placeholder="max" min="0" style="width: 120px; display: inline-block; margin-left: 8px;"> annual revenue</label>
                        </div>
                    </div>

                    <div class="question-group">
                        <label class="question-label">Aesthetic/style preference:<br>What aesthetic should target stores have?</label>
                        <div class="checkbox-group">
                            <label class="checkbox-option"><input type="checkbox" name="aesthetic[]" value="farmhouse_rustic">Farmhouse/Rustic</label>
                            <label class="checkbox-option"><input type="checkbox" name="aesthetic[]" value="coastal_beach">Coastal/Beach/Nautical</label>
                            <label class="checkbox-option"><input type="checkbox" name="aesthetic[]" value="boho_eclectic">Boho/Eclectic</label>
                            <label class="checkbox-option"><input type="checkbox" name="aesthetic[]" value="modern_contemporary">Modern/Contemporary</label>
                            <label class="checkbox-option"><input type="checkbox" name="aesthetic[]" value="traditional_classic">Traditional/Classic</label>
                            <label class="checkbox-option"><input type="checkbox" name="aesthetic[]" value="vintage_antique">Vintage/Antique</label>
                            <label class="checkbox-option"><input type="checkbox" name="aesthetic[]" value="shabby_chic">Shabby Chic</label>
                            <label class="checkbox-option"><input type="checkbox" name="aesthetic[]" value="industrial">Industrial</label>
                            <label class="checkbox-option"><input type="checkbox" name="aesthetic[]" value="mix_all">Mix of all styles (broad appeal)</label>
                            <label class="checkbox-option"><input type="checkbox" name="aesthetic[]" value="other">Other: <input type="text" name="aesthetic_other" placeholder="Specify..." style="width: 250px; display: inline-block; margin-left: 8px;"></label>
                        </div>
                    </div>

                    <div class="question-group">
                        <label class="question-label">Ideal customer description:<br>In your own words, describe your perfect retail customer:</label>
                        <div class="question-helper">Example: "Independent coastal gift shops in affluent beach towns, $1-3M revenue, targeting tourists and second-home owners, farmhouse/coastal aesthetic with 40-60% margins"</div>
                        <textarea name="ideal_customer" placeholder="Describe your perfect retail customer..."></textarea>
                    </div>

                    <div class="question-group">
                        <label class="question-label">Geographic focus:<br>Where should we find leads?</label>
                        <div class="radio-group">
                            <label class="radio-option"><input type="radio" name="geographic_focus" value="all_us">Entire United States (all 50 states)</label>
                            <label class="radio-option"><input type="radio" name="geographic_focus" value="regions">OR specific regions (check all that apply):</label>
                        </div>
                        <div class="checkbox-group" style="margin-top: 12px; margin-left: 20px;">
                            <label class="checkbox-option"><input type="checkbox" name="regions[]" value="northeast">Northeast (NY, PA, NJ, MA, CT, RI, VT, NH, ME)</label>
                            <label class="checkbox-option"><input type="checkbox" name="regions[]" value="southeast">Southeast (FL, GA, SC, NC, VA, TN, AL, MS, LA, AR)</label>
                            <label class="checkbox-option"><input type="checkbox" name="regions[]" value="midwest">Midwest (IL, OH, MI, WI, MN, IN, IA, MO, KS, NE, SD, ND)</label>
                            <label class="checkbox-option"><input type="checkbox" name="regions[]" value="southwest">Southwest (TX, AZ, NM, OK)</label>
                            <label class="checkbox-option"><input type="checkbox" name="regions[]" value="west_coast">West Coast (CA, OR, WA)</label>
                            <label class="checkbox-option"><input type="checkbox" name="regions[]" value="mountain_west">Mountain West (CO, UT, ID, MT, WY, NV)</label>
                        </div>
                        <div class="radio-group" style="margin-top: 16px;">
                            <label class="radio-option"><input type="radio" name="geographic_focus" value="specific_states">OR specific states only:</label>
                        </div>
                        <input type="text" name="specific_states" placeholder="List states..." style="margin-top: 12px; margin-left: 20px;">
                    </div>

                    <div class="question-group">
                        <label class="question-label">Target lead volume:<br>How many NEW leads per month do you want?</label>
                        <div class="radio-group">
                            <label class="radio-option"><input type="radio" name="target_lead_volume" value="500">500 leads/month</label>
                            <label class="radio-option"><input type="radio" name="target_lead_volume" value="750">750 leads/month</label>
                            <label class="radio-option"><input type="radio" name="target_lead_volume" value="1000">1,000 leads/month</label>
                            <label class="radio-option"><input type="radio" name="target_lead_volume" value="1500">1,500 leads/month</label>
                            <label class="radio-option"><input type="radio" name="target_lead_volume" value="2000+">2,000+ leads/month</label>
                            <label class="radio-option"><input type="radio" name="target_lead_volume" value="start_small">Start smaller and scale based on results</label>
                        </div>
                        <div class="question-helper">Target number:</div>
                        <input type="number" name="target_lead_exact" placeholder="leads/month" min="0">
                    </div>

                    <div class="question-group">
                        <label class="question-label">Email sequence before calling:<br>How many emails should we send before AI makes a call?</label>
                        <div class="radio-group">
                            <label class="radio-option"><input type="radio" name="email_sequence" value="1_email">1 email → AI calls if they open/click (fast, lean approach) ← RECOMMENDED</label>
                            <label class="radio-option"><input type="radio" name="email_sequence" value="2-3_emails">2-3 email sequence → AI calls most engaged prospects</label>
                            <label class="radio-option"><input type="radio" name="email_sequence" value="email_only">Email-only (no AI calls, just email campaign)</label>
                            <label class="radio-option"><input type="radio" name="email_sequence" value="no_email">No email (AI calls cold, no email warm-up)</label>
                            <label class="radio-option"><input type="radio" name="email_sequence" value="other">Other: <input type="text" name="email_sequence_other" placeholder="Specify..." style="width: 250px; display: inline-block; margin-left: 8px;"></label>
                        </div>
                    </div>

                    <div class="question-group">
                        <label class="question-label">Engagement tracking:<br>What engagement metrics should we track?</label>
                        <div class="checkbox-group">
                            <label class="checkbox-option"><input type="checkbox" name="engagement_metrics[]" value="email_opens">Email opens</label>
                            <label class="checkbox-option"><input type="checkbox" name="engagement_metrics[]" value="link_clicks">Email link clicks</label>
                            <label class="checkbox-option"><input type="checkbox" name="engagement_metrics[]" value="catalog_downloads">Catalog downloads</label>
                            <label class="checkbox-option"><input type="checkbox" name="engagement_metrics[]" value="website_visits">Website visits (if we add tracking pixel)</label>
                            <label class="checkbox-option"><input type="checkbox" name="engagement_metrics[]" value="email_replies">Email replies</label>
                            <label class="checkbox-option"><input type="checkbox" name="engagement_metrics[]" value="all">All of the above ← We recommend this, gives us ability to scale in future and make informed decisions</label>
                            <label class="checkbox-option"><input type="checkbox" name="engagement_metrics[]" value="other">Other: <input type="text" name="engagement_metrics_other" placeholder="Specify..." style="width: 250px; display: inline-block; margin-left: 8px;"></label>
                        </div>
                    </div>
                </div>

                <button type="submit" class="submit-button">Submit Questionnaire</button>
            </form>
        </div>
    </section>

    <div class="autosave-indicator" id="autosaveIndicator" aria-live="polite">Saved</div>

    <!-- Three.js Library -->
    <script src="https://unpkg.com/three@0.150.1/build/three.min.js"></script>

    <script>
        // Three.js Animated Background
        let animationId;

        function createWaveScene({ canvas, backgroundHex, lineHex, opacity }) {
            try {
                if (!canvas) {
                    console.error('Canvas not found');
                    return null;
                }

                const width = canvas.clientWidth || window.innerWidth;
                const height = canvas.clientHeight || window.innerHeight;

                // Scene
                const localScene = new THREE.Scene();
                localScene.background = new THREE.Color(backgroundHex);

                // Camera
                const localCamera = new THREE.PerspectiveCamera(75, width / height, 0.1, 1000);
                localCamera.position.set(0, 0, 8);

                // Renderer
                const localRenderer = new THREE.WebGLRenderer({ 
                    canvas: canvas,
                    antialias: true,
                    alpha: false
                });
                localRenderer.setSize(width, height);
                localRenderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));

                // Create wave-like mountainous pattern
                const segments = 200;
                const lines = [];
                const lineMaterial = new THREE.LineBasicMaterial({
                    color: lineHex,
                    transparent: true,
                    opacity,
                    linewidth: 1
                });

                // Create multiple layers of wave lines
                for (let layer = 0; layer < 120; layer++) {
                    const geometry = new THREE.BufferGeometry();
                    const positions = [];
                    const y = (layer / 120 - 0.5) * 18;

                    for (let i = 0; i <= segments; i++) {
                        const x = (i / segments - 0.5) * 30;
                        // Create wave pattern with multiple frequencies for depth
                        const z = Math.sin(x * 0.2 + layer * 0.1) * 2 + 
                                  Math.cos(x * 0.4 + layer * 0.08) * 1.2 +
                                  Math.sin(x * 0.6 + layer * 0.15) * 0.8;
                        
                        positions.push(x, y, z);
                    }

                    geometry.setAttribute('position', new THREE.Float32BufferAttribute(positions, 3));
                    
                    const line = new THREE.Line(geometry, lineMaterial);
                    localScene.add(line);
                    lines.push(line);
                }

                return { scene: localScene, camera: localCamera, renderer: localRenderer, particles: lines, canvas };
            } catch (error) {
                console.error('Error initializing Three.js:', error);
                return null;
            }
        }

        function initThreeJS() {
            // Hero background
            const heroCanvas = document.getElementById('heroCanvas');
            const heroBundle = createWaveScene({
                canvas: heroCanvas,
                backgroundHex: 0xF7F4EF,
                lineHex: 0x6F6F6F,
                opacity: 0.3
            });

            // Form background
            const formCanvas = document.getElementById('formCanvas');
            let formBundle = null;
            if (formCanvas) {
                formBundle = createWaveScene({
                    canvas: formCanvas,
                    backgroundHex: 0xF7F4EF,
                    lineHex: 0x6F6F6F,
                    opacity: 0.3
                });
            }

            let heroScene, heroCamera, heroRenderer, heroParticles;
            let formScene, formCamera, formRenderer, formParticles;

            if (heroBundle) {
                ({ scene: heroScene, camera: heroCamera, renderer: heroRenderer, particles: heroParticles } = heroBundle);
            }

            if (formBundle) {
                ({ scene: formScene, camera: formCamera, renderer: formRenderer, particles: formParticles } = formBundle);
            }

            // Render form waves once (stationary)
            if (formParticles && formRenderer && formScene && formCamera) {
                formRenderer.render(formScene, formCamera);
            }

            let time = 0;
            function animateAll() {
                animationId = requestAnimationFrame(animateAll);
                time += 0.01;

                // Animate hero waves only
                if (heroParticles && heroRenderer && heroScene && heroCamera) {
                    heroParticles.forEach((line, i) => {
                        const positions = line.geometry.attributes.position;
                        for (let j = 0; j < positions.count; j++) {
                            const x = positions.getX(j);
                            const z = Math.sin(x * 0.2 + i * 0.1 + time) * 2 + 
                                      Math.cos(x * 0.4 + i * 0.08 + time * 0.8) * 1.2 +
                                      Math.sin(x * 0.6 + i * 0.15 + time * 0.6) * 0.8;
                            positions.setZ(j, z);
                        }
                        positions.needsUpdate = true;
                    });
                    heroRenderer.render(heroScene, heroCamera);
                }
            }

            animateAll();

            // Handle resize for hero
            window.addEventListener('resize', () => {
                if (heroRenderer && heroCamera && heroCanvas) {
                    const w = heroCanvas.clientWidth || window.innerWidth;
                    const h = heroCanvas.clientHeight || window.innerHeight;
                    heroCamera.aspect = w / h;
                    heroCamera.updateProjectionMatrix();
                    heroRenderer.setSize(w, h);
                }

                if (formRenderer && formCamera && formCanvas && formScene) {
                    const w = formCanvas.clientWidth || window.innerWidth;
                    const h = formCanvas.clientHeight || window.innerHeight;
                    formCamera.aspect = w / h;
                    formCamera.updateProjectionMatrix();
                    formRenderer.setSize(w, h);
                    // Re-render stationary form waves after resize
                    formRenderer.render(formScene, formCamera);
                }
            });
        }

        // Initialize Three.js when page loads
        function checkThreeJS() {
            if (typeof THREE !== 'undefined') {
                setTimeout(initThreeJS, 100);
            } else {
                console.error('Three.js library not loaded');
                setTimeout(checkThreeJS, 500);
            }
        }

        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', checkThreeJS);
        } else {
            checkThreeJS();
        }

        // Scroll to form functionality
        const scrollDownButton = document.getElementById('scrollDownButton');
        const formSection = document.querySelector('.form-section');

        if (scrollDownButton && formSection) {
            scrollDownButton.addEventListener('click', () => {
                formSection.scrollIntoView({ 
                    behavior: 'smooth',
                    block: 'start'
                });
            });
        }

        // Auto-save functionality
        let autosaveToastTimer = null;
        function flashAutosave() {
            const el = document.getElementById('autosaveIndicator');
            if (!el) return;
            el.classList.add('show');
            if (autosaveToastTimer) window.clearTimeout(autosaveToastTimer);
            autosaveToastTimer = window.setTimeout(() => el.classList.remove('show'), 900);
        }

        function getFormKey() {
            return 'hero_questionnaire_data';
        }

        function saveFormData(form) {
            const formData = new FormData(form);
            const data = {};

            formData.forEach((value, key) => {
                if (data[key]) {
                    if (Array.isArray(data[key])) {
                        data[key].push(value);
                    } else {
                        data[key] = [data[key], value];
                    }
                } else {
                    data[key] = value;
                }
            });

            localStorage.setItem(getFormKey(), JSON.stringify(data));
            flashAutosave();
        }

        function loadFormData() {
            const savedData = localStorage.getItem(getFormKey());
            if (!savedData) return;

            try {
                const data = JSON.parse(savedData);
                const form = document.getElementById('mainForm');
                if (!form) return;

                // Restore form values
                Object.keys(data).forEach(key => {
                    const value = data[key];
                    const elements = form.querySelectorAll(`[name="${key}"]`);

                    elements.forEach(element => {
                        if (element.type === 'checkbox' || element.type === 'radio') {
                            if (Array.isArray(value)) {
                                element.checked = value.includes(element.value);
                            } else {
                                element.checked = element.value === value;
                            }
                        } else {
                            element.value = Array.isArray(value) ? value[0] : value;
                        }
                    });
                });

                console.log('Loaded saved data');
            } catch (error) {
                console.error('Error loading saved data:', error);
            }
        }

        // Initialize auto-save for form
        const form = document.getElementById('mainForm');
        if (form) {
            // Auto-save on input change
            form.addEventListener('input', function() {
                saveFormData(this);
            });

            // Auto-save on checkbox/radio change
            form.addEventListener('change', function() {
                saveFormData(this);
            });

            // Handle form submission
            form.addEventListener('submit', async function(e) {
                e.preventDefault();

                const formData = new FormData(this);
                const data = {};

                formData.forEach((value, key) => {
                    if (data[key]) {
                        if (Array.isArray(data[key])) {
                            data[key].push(value);
                        } else {
                            data[key] = [data[key], value];
                        }
                    } else {
                        data[key] = value;
                    }
                });

                // Prepare email body
                let emailBody = `New Hero Questionnaire Submission\n\n`;
                emailBody += `Submitted: ${new Date().toLocaleString()}\n\n`;
                emailBody += '='.repeat(50) + '\n\n';

                Object.keys(data).forEach(key => {
                    const value = data[key];
                    const formattedKey = key.replace(/_/g, ' ').replace(/\b\w/g, l => l.toUpperCase());
                    const formattedValue = Array.isArray(value) ? value.join(', ') : value;
                    emailBody += `${formattedKey}:\n${formattedValue}\n\n`;
                });

                console.log('Form submitted:', data);

                // Show loading state
                const submitButton = this.querySelector('.submit-button');
                const originalButtonText = submitButton.textContent;
                submitButton.textContent = 'Submitting...';
                submitButton.disabled = true;

                // Send email using FormSubmit.co with AJAX
                try {
                    const formDataToSend = new FormData();
                    formDataToSend.append('_subject', `Hero Questionnaire - ${new Date().toLocaleDateString()}`);
                    formDataToSend.append('message', emailBody);

                    Object.keys(data).forEach(key => {
                        const value = Array.isArray(data[key]) ? data[key].join(', ') : data[key];
                        formDataToSend.append(key, value);
                    });

                    formDataToSend.append('_captcha', 'false');
                    formDataToSend.append('_template', 'table');

                    const response = await fetch('https://formsubmit.co/sheikhshessi@gmail.com', {
                        method: 'POST',
                        body: formDataToSend,
                        headers: {
                            'Accept': 'application/json'
                        }
                    });

                    submitButton.textContent = originalButtonText;
                    submitButton.disabled = false;

                    if (response.ok) {
                        alert('Thank you for completing the questionnaire! We will review your responses and get back to you shortly.');
                        localStorage.removeItem(getFormKey());
                        this.reset();
                    } else {
                        throw new Error('Submission failed');
                    }
                } catch (error) {
                    console.error('Error submitting form:', error);
                    submitButton.textContent = originalButtonText;
                    submitButton.disabled = false;
                    alert('There was an error submitting your form. Please try again or contact us directly at sheikhshessi@gmail.com');
                }
            });
        }

        // Load saved data on page load
        window.addEventListener('DOMContentLoaded', function() {
            loadFormData();
        });
    </script>
</body>
</html>
